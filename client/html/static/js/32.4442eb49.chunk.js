(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[32],{1005:function(e,t,n){"use strict";n.r(t);var c=n(27),r=n(3),a=n(12),s=n(24),i=n(424),o=n(509),l=n(698),u=n(134),d=n(2),j=function(e){var t=e.match,n=e.browse,c=e.browseResults;return Object(r.useEffect)((function(){window.scrollTo(0,0);var e=new URL(window.location.href).searchParams.get("user_email");n({lms_url:t.params.lmsUrl,lti_client_id:t.params.ltiClientId,user_email:e,mode:"browse"})}),[t]),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col",children:[null===c&&Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col text-center",children:Object(d.jsx)("img",{style:{width:"50px"},src:u.a,alt:""})})}),null!==c&&0===c.length&&Object(d.jsx)(i.a,{variant:"warning",children:"No projects found."}),null!==c&&c.length>0&&c.map((function(e){return Object(d.jsx)(l.a,{project:e},e.id)}))]})})};j.defaultProps={browseResults:null};var h=Object(s.h)(Object(a.b)((function(e){return{browseResults:e.canvas.browseResults}}),(function(e){return{browse:function(t){return e(Object(o.c)(t))}}}))(j)),b=n(83),f=n(0),p=n(1e3),m=n(121),v=(n(961),Object(s.h)(Object(a.b)((function(e){return{params:e.canvas.searchParams}}),(function(e){return{showResults:function(){return e(Object(o.m)())},updateParams:function(t){return e(Object(o.p)(t))}}}))((function(e){var t=e.match,n=e.showResults,a=e.params,s=e.updateParams,i=new URLSearchParams(window.location.search).get("user_email"),o=Object(r.useState)(!1),l=Object(c.a)(o,2),u=l[0],j=l[1];Object(r.useEffect)((function(){window.scrollTo(0,0),s(Object(f.a)(Object(f.a)({},a),{},{ltiClientId:t.params.ltiClientId,userEmail:i,mode:"search"}))}),[t]);var h=function(e){s(Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n()},className:"search-form",children:[Object(d.jsx)("div",{className:"row mt-2",children:Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Phrase",name:"query",onChange:h})})})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("select",{className:"form-control",name:"private",onChange:h,defaultValue:"0",children:[Object(d.jsx)("option",{value:"0",children:"Public Activities"}),Object(d.jsx)("option",{value:"1",children:"Private Activities"})]})})})}),u&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("select",{className:"form-control",name:"subject",onChange:h,defaultValue:"",children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Subject Area"}),m.b.map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.subject},e.value)}))]})})})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("select",{className:"form-control",name:"level",onChange:h,defaultValue:"",children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Education Level"}),m.a.map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"date",className:"form-control",placeholder:"From Date",name:"start",onChange:h})})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"date",className:"form-control",placeholder:"To Date",name:"end",onChange:h})})})]}),"1"!==a.private&&Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Author",name:"author",onChange:h})})})})]}),Object(d.jsx)(p.a.Check,{type:"switch",id:"advancedSwitch",label:"Advanced Search",checked:u,onChange:function(){return j(!u)}}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col text-right",children:Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{className:"btn btn-primary search-submit-button",type:"submit",children:"Search"})})})})]})})))),O=n(30),x=function(e){var t=e.match,n=e.searchParams,c=e.hasMoreResults,a=e.projects,s=e.backToSearch,o=e.previousPage,u=e.nextPage,j=e.search;return Object(r.useEffect)((function(){window.scrollTo(0,0),j(n)}),[t,n]),Object(d.jsxs)("div",{className:"results",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("h2",{children:"Search Results"})}),Object(d.jsx)("div",{className:"col text-right",children:Object(d.jsxs)("button",{type:"button",className:"btn back-action",onClick:s,children:[Object(d.jsx)(O.a,{icon:"chevron-left",className:"action-icon"}),"Back to Search"]})})]}),null!==a&&0===a.length&&Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col",children:Object(d.jsx)(i.a,{variant:"warning",children:"No results found."})})}),null!==a&&a.length>0&&a.map((function(e){return Object(d.jsx)(l.a,{project:e},e.id)})),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col text-left",children:!!n.from&&0!==n.from&&Object(d.jsx)("button",{type:"button",className:"pagination-buttons",onClick:o,children:"Previous"})}),Object(d.jsx)("div",{className:"col text-right",children:c&&Object(d.jsx)("button",{type:"button",className:"pagination-buttons",onClick:u,children:"Next"})})]})]})};x.defaultProps={projects:null};var w=Object(s.h)(Object(a.b)((function(e){return{searchParams:e.canvas.searchParams,hasMoreResults:e.canvas.searchHasMoreResults,projects:e.canvas.searchProjects}}),(function(e){return{backToSearch:function(){return e(Object(o.b)())},previousPage:function(){return e(Object(o.j)())},nextPage:function(){return e(Object(o.i)())},search:function(t){return e(Object(o.k)(t))}}}))(x)),g=n(8),N=n.n(g),y=(n(962),function(e){var t=e.activity,n=e.closePreview,c=e.h5pSettings,a=e.getH5pSettings,s=e.match;Object(r.useEffect)((function(){a(t.id)}),[t]),Object(r.useEffect)((function(){if(null!==c){window.H5PIntegration=c.h5p.settings,document.getElementById("curriki-h5p-wrapper").innerHTML=c.h5p.embed_code.trim();var e=c.h5p.settings.core.styles.concat(c.h5p.settings.loadedCss);Promise.all(e.map((function(e){var t=document.createElement("link");return t.href=e,t.type="text/css",t.rel="stylesheet",document.head.appendChild(t),!0}))),c.h5p.settings.core.scripts.concat(c.h5p.settings.loadedJs).forEach((function(e){var t=document.createElement("script");t.src=e,t.async=!1,document.body.appendChild(t)}))}}),[c]);return Object(d.jsxs)("div",{className:"activity-wrapper mt-2",children:[Object(d.jsxs)("div",{className:"row mb-2",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("h2",{children:"Previewing: ".concat(t.title)})}),Object(d.jsxs)("div",{className:"col text-right",children:[Object(d.jsx)("button",{type:"button",className:"btn close-preview-button m-1",onClick:function(){var e="".concat(decodeURIComponent(s.params.redirectUrl),"&title=").concat(encodeURIComponent(t.title),"&entity=activity&id=").concat(t.id);N.a.fire({html:"You have selected <strong>Activity: ".concat(t.title,"</strong><br>Do you want to continue ?"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(t){t.value&&(window.location.href=e)}))},children:"Add to Course"}),Object(d.jsx)("button",{type:"button",className:"btn close-preview-button m-1",onClick:n,children:"Close Preview"})]})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col",children:[null===c&&Object(d.jsx)("div",{className:"loader_gif",children:Object(d.jsx)("img",{style:{width:"50px"},src:u.a,alt:""})}),null!==c&&Object(d.jsx)("div",{id:"curriki-h5p-wrapper"})]})})]})});y.defaultProps={h5pSettings:null};var P=Object(s.h)(Object(a.b)((function(e){return{activity:e.canvas.searchPreviewActivity,h5pSettings:e.canvas.h5pSettings}}),(function(e){return{closePreview:function(){return e(Object(o.d)())},getH5pSettings:function(t){return e(Object(o.e)(t))}}}))(y)),k=n.p+"static/media/logo.2e30b26e.png",C=(n(963),function(e){var t=e.match,n=e.currentPage,a=e.searchPreviewActivity,s=Object(r.useState)("browse"),i=Object(c.a)(s,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(d.jsxs)("div",{className:"container canvas-search-page",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col",children:null===a&&Object(d.jsxs)("ul",{className:"nav nav-pills nav-fill mt-3",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"browse"===o?"nav-link active":"nav-link",href:"#",onClick:function(){return l("browse")},children:"Browse"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"search"===o?"nav-link active":"nav-link",href:"#",onClick:function(){return l("search")},children:"Search"})})]})}),Object(d.jsx)("div",{className:"col text-right",children:Object(d.jsx)("img",{className:"mt-3",src:k,alt:"Curriki Studio Logo"})})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col",children:[null===a&&"browse"===o&&Object(d.jsx)(h,{}),null===a&&"search"===o&&Object(d.jsxs)(d.Fragment,{children:["search"===n&&Object(d.jsx)(v,{}),"results"===n&&Object(d.jsx)(w,{})]}),a&&Object(d.jsx)(P,{})]})})]})});C.defaultProps={searchPreviewActivity:null};t.default=Object(s.h)(Object(a.b)((function(e){return{currentPage:e.canvas.currentPage,searchPreviewActivity:e.canvas.searchPreviewActivity}}))(C))},509:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"k",(function(){return w})),n.d(t,"m",(function(){return g})),n.d(t,"b",(function(){return N})),n.d(t,"p",(function(){return y})),n.d(t,"l",(function(){return P})),n.d(t,"d",(function(){return k})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"o",(function(){return A})),n.d(t,"n",(function(){return R})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return I})),n.d(t,"a",(function(){return U})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return E}));var c=n(4),r=n.n(c),a=n(6),s=n(0),i=n(44),o=n.n(i),l=n(25),u=n(5),d=l.a.apiVersion,j=l.a.tsugiBaseUrl,h=function(e){return u.a.post("/".concat(d,"/go/lms/projects"),Object(s.a)({},e)).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},b=function(e){return u.a.post("/".concat(d,"/go/lms/projects"),Object(s.a)({},e)).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},f=function(e){return u.a.get("/".concat(d,"/go/lms/project/").concat(e)).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},p=function(e){return u.a.get("/".concat(d,"/google-classroom/activities/").concat(e,"/h5p-resource-settings")).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},m=function(e,t,n){return o()({method:"post",url:j,params:{PHPSESSID:e,gpb:t,final_grade:n}}).then((function(e){return e}))},v=function(e,t){return u.a.post("/".concat(d,"/outcome/summary"),{actor:e,activity:t}).then((function(e){return e.data})).catch((function(e){return e&&e.response&&e.response.data&&e.response.data.errors?e.response.data:(console.log("Unexpected error in summary endpoint:"),console.log(e),null)}))},O=n(1),x=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:c=t.sent,n({type:O.Cb,results:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:c=t.sent,n({type:O.Db,results:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:O.Ue});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:O.B});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:O.lf,params:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:O.Be,activity:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:O.P});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:O.yd});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:O.td});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id);case 2:c=t.sent,n({type:O.We,project:c.project});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:O.Ve,playlist:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:c=t.sent,n({type:O.Rb,h5pSettings:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e,t,n,c){return function(){var s=Object(a.a)(r.a.mark((function a(s){return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s({type:O.sc}),!c){r.next=4;break}return r.next=4,m(e,t,n);case 4:case"end":return r.stop()}}),a)})));return function(e){return s.apply(this,arguments)}}()},U=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:O.pd});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(e,t){return function(){var n=Object(a.a)(r.a.mark((function n(c){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(e,t);case 2:a=n.sent,c({type:O.Ub,summary:a});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:c=t.sent,n({type:O.Vb,summaryActivityInfo:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},698:function(e,t,n){"use strict";(function(e){n(3);var c=n(12),r=n(24),a=n(600),s=n(424),i=n(701),o=n(1015),l=n(39),u=n(30),d=n(8),j=n.n(d),h=n(509),b=(n(960),n(2)),f=function(t){var n=t.match,c=t.project,r=t.selectedProject,d=t.selectedPlaylist,h=t.showProject,f=t.showPlaylist,p=t.setPreviewActivity,m=function(e){var t=parseInt(e,10),n=d.activities.find((function(e){return e.id===t}));n&&p(n)},v=function(e){var t=parseInt(e,10),c=d.activities.find((function(e){return e.id===t}));if(c){var r="".concat(decodeURIComponent(n.params.redirectUrl),"&title=").concat(encodeURIComponent(c.title),"&entity=activity&id=").concat(c.id);j.a.fire({html:"You have selected <strong>Activity: ".concat(c.title,"</strong><br>Do you want to continue ?"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(e){e.value&&(window.location.href=r)}))}};return Object(b.jsx)("div",{className:"row mt-2 mb-2 lti-deeplink-project-container",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"row result",children:[Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)(a.a,{src:c.thumb_url.includes("pexels.com")?c.thumb_url:"".concat(e.config.resourceUrl).concat(c.thumb_url),thumbnail:!0})}),Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("div",{className:"row project-details-row",children:Object(b.jsxs)("div",{className:"col",children:[Object(b.jsxs)("h3",{children:[c.title.length>0&&c.title,0===c.title.length&&"Project title not available"]}),Object(b.jsxs)("p",{children:[c.description.length>0&&c.description,0===c.description.length&&"Project description not available"]}),c.user&&Object(b.jsxs)("p",{className:"text-right",children:[Object(b.jsx)("label",{children:"Author:"})," ".concat(c.user.last_name,", ").concat(c.user.first_name," (").concat(c.user.email,")")]})]})}),Object(b.jsx)("div",{className:"row playlists-row",children:Object(b.jsx)("div",{className:"col",children:(null===r||void 0===r?void 0:r.id)===c.id&&Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col",children:[0===r.playlists.length&&Object(b.jsx)(s.a,{variant:"warning",children:"This project has no playlists"}),r.playlists.length>0&&Object(b.jsx)(i.a,{className:"mt-2",children:Object(b.jsx)(o.a,{variant:"flush",children:r.playlists.map((function(t){return Object(b.jsxs)(o.a.Item,{className:"plist",onClick:function(){return f(t)},children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("h4",{children:t.title})}),Object(b.jsx)("div",{className:"col text-right",children:Object(b.jsx)(u.a,{className:"pull-right",icon:"chevron-right"})})]}),(null===d||void 0===d?void 0:d.id)===t.id&&0===t.activities.length&&Object(b.jsx)(s.a,{variant:"warning",children:"This playlist has no activities."}),(null===d||void 0===d?void 0:d.id)===t.id&&t.activities.length>0&&t.activities.map((function(t){return Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsx)(a.a,{src:t.thumb_url.includes("pexels.com")?t.thumb_url:"".concat(e.config.resourceUrl).concat(t.thumb_url),thumbnail:!0})}),Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("h5",{children:t.title})}),Object(b.jsx)("div",{className:"col text-right",children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(l.a.Toggle,{className:"actions-button",children:Object(b.jsx)(u.a,{icon:"ellipsis-v"})}),Object(b.jsxs)(l.a.Menu,{children:[Object(b.jsxs)(l.a.Item,{to:"#",eventKey:t.id,onSelect:m,children:[Object(b.jsx)(u.a,{icon:"eye",className:"action-icon"}),"Preview"]}),Object(b.jsxs)(l.a.Item,{to:"#",eventKey:t.id,onSelect:v,children:[Object(b.jsx)(u.a,{icon:"plus",className:"action-icon"}),"Add to Course"]})]})]})})]},t.id)}))]},t.id)}))})})]})})})})]}),(null===r||void 0===r?void 0:r.id)!==c.id&&Object(b.jsx)("div",{className:"col-2 text-right actions",children:Object(b.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return h(c)},children:"View Playlists"})})]},c.id)})})};f.defaultProps={project:null,selectedProject:null,selectedPlaylist:null};t.a=Object(r.h)(Object(c.b)((function(e){return{selectedProject:e.canvas.searchSelectedProject,selectedPlaylist:e.canvas.searchSelectedPlaylist}}),(function(e){return{showProject:function(t){return e(Object(h.o)(t))},showPlaylist:function(t){return e(Object(h.n)(t))},setPreviewActivity:function(t){return e(Object(h.l)(t))}}}))(f))}).call(this,n(36))},960:function(e,t,n){},961:function(e,t,n){},962:function(e,t,n){},963:function(e,t,n){}}]);
//# sourceMappingURL=32.4442eb49.chunk.js.map