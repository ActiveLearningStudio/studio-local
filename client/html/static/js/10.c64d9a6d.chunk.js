(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{516:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(4),a=n.n(c),i=n(6),s=n(27),o=n(3),u=n(9),l=n.n(u),p=n(12),d=n(24),h=n.p+"static/media/276.f6c236f2.gif",f=n(72),b=n(411),v=n(2),m=0,j=function(e){var t=Object(o.useState)(!0),n=Object(s.a)(t,2),c=n[0],u=n[1],l=Object(o.useState)(null),d=Object(s.a)(l,2),j=d[0],x=d[1],y=e.activityId,O=e.loadH5pResourceProp,w=e.showLtiPreview,g=e.showActivityPreview,k=Object(p.c)(),P=function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.H5PIntegration=t.h5p.settings,document.getElementById("curriki-h5p-wrapper").innerHTML=t.h5p.embed_code.trim(),n=t.h5p.settings.core.styles.concat(t.h5p.settings.loadedCss),e.next=6,Promise.all(n.map((function(e){var t=document.createElement("link");return t.href=e,t.type="text/css",t.rel="stylesheet",document.head.appendChild(t),!0})));case 6:t.h5p.settings.core.scripts.concat(t.h5p.settings.loadedJs).forEach((function(e){var t=document.createElement("script");t.src=e,t.async=!1,document.body.appendChild(t)})),u(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(j!==y){var t=document.getElementsByClassName("h5p-iframe");if(t.length&&t[0].remove(),null===y||void 0===y)return;var n=function(){var t=Object(i.a)(a.a.mark((function t(){var n,c,i,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!w){t.next=10;break}return t.next=4,Object(f.r)(y);case 4:if(!(n=t.sent).h5p_activity){t.next=8;break}return t.next=8,P(n.h5p_activity);case 8:t.next=25;break;case 10:if(!g){t.next=19;break}return t.next=13,Object(f.s)(y);case 13:if(!(c=t.sent).activity){t.next=17;break}return t.next=17,P(c.activity);case 17:t.next=25;break;case 19:return t.next=21,O(y);case 21:if(!(i=t.sent).activity){t.next=25;break}return t.next=25,P(i.activity);case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(0),u(!1);case 30:s=setInterval((function(){try{var t=document.getElementsByClassName("h5p-iframe")[0].contentWindow;t.H5P&&t.H5P.externalDispatcher&&b.c(e.match.path)&&(o(),t.H5P.externalDispatcher.on("xAPI",(function(t){m>0&&k(Object(f.t)(JSON.stringify(b.b(t.data.statement,Object(r.a)({},e))))),m+=1})))}catch(n){console.log(n)}})),o=function(){return clearInterval(s)};case 32:case"end":return t.stop()}}),t,null,[[0,27]])})));return function(){return t.apply(this,arguments)}}();n(),x(y)}}),[j,y,w,g,O]),Object(v.jsx)(v.Fragment,{children:c?Object(v.jsx)("div",{id:"curriki-h5p-wrapper",children:Object(v.jsx)("div",{className:"loader_gif",children:Object(v.jsx)("img",{src:h,alt:""})})}):Object(v.jsx)("div",{id:"curriki-h5p-wrapper",children:Object(v.jsx)("div",{className:"loader_gif",style:{color:"black"},children:"Unable to Load Activity"})})})};j.defaultProps={showLtiPreview:!1,showActivityPreview:!1,match:l.a.shape({path:l.a.string})};t.default=Object(d.h)(Object(p.b)((function(e){return{resource:e.resource,parentPlaylist:e.playlist.selectedPlaylist}}),(function(e){return{loadH5pResourceProp:function(t){return e(Object(f.o)(t))}}}))(j))}}]);
//# sourceMappingURL=10.c64d9a6d.chunk.js.map