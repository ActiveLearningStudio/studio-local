{"version":3,"sources":["../node_modules/react-bootstrap/esm/divWithClassName.js","../node_modules/react-bootstrap/esm/CloseButton.js","../node_modules/react-bootstrap/esm/Alert.js","services/canvas.service.js","store/actions/canvas.js","containers/LMS/GoogleClassroom/ActivitySummary/SummaryOutcome/index.js","assets/images/studio_new_logo_small.png","containers/LMS/Canvas/CanvasSummaryPage/index.js"],"names":["className","React","forwardRef","p","ref","createElement","_extends","classNames","_excluded","propTypes","label","PropTypes","string","isRequired","onClick","func","CloseButton","_ref","props","_objectWithoutPropertiesLoose","type","displayName","defaultProps","DivStyledAsH4","divWithClassName","AlertHeading","createWithBsPrefix","Component","AlertLink","SafeAnchor","show","transition","Fade","closeLabel","Alert","uncontrolledProps","_useUncontrolled","useUncontrolled","bsPrefix","children","variant","onClose","dismissible","prefix","useBootstrapPrefix","handleClose","useEventCallback","e","Transition","alert","role","undefined","unmountOnExit","in","Link","Heading","apiVersion","config","tsugiBaseUrl","params","httpService","post","then","data","catch","err","Promise","reject","response","projectId","get","activityId","session","gpb","score","axios","method","url","PHPSESSID","final_grade","actor","activity","error","errors","console","log","browseAction","dispatch","a","canvasService","results","DO_BROWSE","searchAction","DO_SEARCH","showResultsAction","SHOW_RESULTS","backToSearchAction","BACK_TO_SEARCH","updateParamsAction","UPDATE_PARAMS","setPreviewActivityAction","SET_SEARCH_PREVIEW_ACTIVITY","closePreviewAction","CLOSE_SEARCH_PREVIEW_ACTIVITY","previousPageAction","PREVIOUS_PAGE","nextPageAction","NEXT_PAGE","showSearchProjectAction","project","id","fullProject","SHOW_SEARCH_PROJECT","showSearchPlaylistAction","playlist","SHOW_SEARCH_PLAYLIST","getH5pSettingsAction","h5pSettings","GET_H5P_SETTINGS","gradePassBackAction","isLearner","GRADE_PASS_BACK","activityInitAction","LTI_ACTIVITY_INIT","getLtiSummaryAction","summary","GET_LTI_SUMMARY","getLtiSummaryActivityInfoAction","summaryActivityInfo","GET_LTI_SUMMARY_ACTIVITY_INFO","SummaryOutcome","outcome","useState","toggles","setToggles","answerCount","setAnswerCount","showExpandButtons","setShowExpandButtons","useEffect","window","scrollTo","count","countAnswers","forEach","deeperData","toggleAllNodes","action","newToggles","getId","Array","isArray","title","push","renderNode","opened","includes","map","node","oldToggles","filter","item","concat","toggleNode","answer","responses","length","raw","max","icon","duration","withRouter","connect","state","canvas","activityInfo","summaryError","getLtiSummary","getLtiActivityInfo","match","encodedParams","URLSearchParams","location","search","atob","resultId","userId","referrer","JSON","stringify","account","homePage","name","origin","src","logo","alt"],"mappings":"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","file":"static/js/31.3ac80206.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport classNames from 'classnames';\nexport default (function (className) {\n  return /*#__PURE__*/React.forwardRef(function (p, ref) {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, p, {\n      ref: ref,\n      className: classNames(p.className, className)\n    }));\n  });\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"label\", \"onClick\", \"className\"];\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\nvar propTypes = {\n  label: PropTypes.string.isRequired,\n  onClick: PropTypes.func\n};\nvar defaultProps = {\n  label: 'Close'\n};\nvar CloseButton = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var label = _ref.label,\n      onClick = _ref.onClick,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"button\", _extends({\n    ref: ref,\n    type: \"button\",\n    className: classNames('close', className),\n    onClick: onClick\n  }, props), /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, label));\n});\nCloseButton.displayName = 'CloseButton';\nCloseButton.propTypes = propTypes;\nCloseButton.defaultProps = defaultProps;\nexport default CloseButton;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"show\", \"closeLabel\", \"className\", \"children\", \"variant\", \"onClose\", \"dismissible\", \"transition\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport divWithClassName from './divWithClassName';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport SafeAnchor from './SafeAnchor';\nvar DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nvar AlertHeading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nvar AlertLink = createWithBsPrefix('alert-link', {\n  Component: SafeAnchor\n});\nvar defaultProps = {\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nvar Alert = /*#__PURE__*/React.forwardRef(function (uncontrolledProps, ref) {\n  var _useUncontrolled = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  }),\n      bsPrefix = _useUncontrolled.bsPrefix,\n      show = _useUncontrolled.show,\n      closeLabel = _useUncontrolled.closeLabel,\n      className = _useUncontrolled.className,\n      children = _useUncontrolled.children,\n      variant = _useUncontrolled.variant,\n      onClose = _useUncontrolled.onClose,\n      dismissible = _useUncontrolled.dismissible,\n      transition = _useUncontrolled.transition,\n      props = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  var handleClose = useEventCallback(function (e) {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  var Transition = transition === true ? Fade : transition;\n  var alert = /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"alert\"\n  }, !Transition ? props : undefined, {\n    ref: ref,\n    className: classNames(className, prefix, variant && prefix + \"-\" + variant, dismissible && prefix + \"-dismissible\")\n  }), dismissible && /*#__PURE__*/React.createElement(CloseButton, {\n    onClick: handleClose,\n    label: closeLabel\n  }), children);\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/React.createElement(Transition, _extends({\n    unmountOnExit: true\n  }, props, {\n    ref: undefined,\n    in: show\n  }), alert);\n});\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nAlert.Link = AlertLink;\nAlert.Heading = AlertHeading;\nexport default Alert;","import axios from 'axios';\nimport config from 'config';\nimport httpService from './http.service';\n\nconst { apiVersion, tsugiBaseUrl } = config;\n\nconst browse = (params) => httpService\n  .post(\n    `/${apiVersion}/go/lms/projects`,\n    { ...params },\n  )\n  .then(({ data }) => data)\n  .catch((err) => Promise.reject(err.response.data));\n\nconst search = (params) => httpService\n  .post(\n    `/${apiVersion}/go/lms/projects`,\n    { ...params },\n  )\n  .then(({ data }) => data)\n  .catch((err) => Promise.reject(err.response.data));\n\nconst getProject = (projectId) => httpService\n  .get(`/${apiVersion}/go/lms/project/${projectId}`)\n  .then(({ data }) => data)\n  .catch((err) => Promise.reject(err.response.data));\n\nconst getH5pSettings = (activityId) => httpService\n  .get(`/${apiVersion}/google-classroom/activities/${activityId}/h5p-resource-settings`)\n  .then(({ data }) => data)\n  .catch((err) => Promise.reject(err.response.data));\n\nconst tsugiGradePassback = (session, gpb, score) => axios({\n  method: 'post',\n  url: tsugiBaseUrl,\n  params: { PHPSESSID: session, gpb, final_grade: score },\n})\n  .then((response) => response);\n\nconst getLtiSummary = (actor, activity) => httpService.post(\n `/${apiVersion}/outcome/summary`,\n { actor, activity },\n)\n.then(({ data }) => data)\n.catch((error) => {\n  if (error && error.response && error.response.data && error.response.data.errors) {\n    return error.response.data;\n  }\n\n  console.log('Unexpected error in summary endpoint:');\n  console.log(error);\n  return null;\n});\n\nexport default {\n  browse,\n  search,\n  getProject,\n  getH5pSettings,\n  tsugiGradePassback,\n  getLtiSummary,\n};\n","import canvasService from 'services/canvas.service';\nimport {\n  // Deeplinking browse tab\n  DO_BROWSE,\n  // Deelinking search tab\n  UPDATE_PARAMS,\n  BACK_TO_SEARCH,\n  DO_SEARCH,\n  SHOW_SEARCH_PROJECT,\n  SHOW_SEARCH_PLAYLIST,\n  SET_SEARCH_PREVIEW_ACTIVITY,\n  CLOSE_SEARCH_PREVIEW_ACTIVITY,\n  PREVIOUS_PAGE,\n  NEXT_PAGE,\n  SHOW_RESULTS,\n  // Other\n  GET_H5P_SETTINGS,\n  GRADE_PASS_BACK,\n  LTI_ACTIVITY_INIT,\n  GET_LTI_SUMMARY,\n  GET_LTI_SUMMARY_ACTIVITY_INFO,\n} from '../actionTypes';\n\n// Deeplinking browse tab\nexport const browseAction = (params) => async (dispatch) => {\n  const results = await canvasService.browse(params);\n  dispatch({\n    type: DO_BROWSE,\n    results,\n  });\n};\n\n// Deeplinking search tab\nexport const searchAction = (params) => async (dispatch) => {\n  const results = await canvasService.search(params);\n  dispatch({\n    type: DO_SEARCH,\n    results,\n  });\n};\n\nexport const showResultsAction = () => async (dispatch) => {\n  dispatch({\n    type: SHOW_RESULTS,\n  });\n};\n\nexport const backToSearchAction = () => async (dispatch) => {\n  dispatch({\n    type: BACK_TO_SEARCH,\n  });\n};\n\nexport const updateParamsAction = (params) => async (dispatch) => {\n  dispatch({\n    type: UPDATE_PARAMS,\n    params,\n  });\n};\n\nexport const setPreviewActivityAction = (activity) => async (dispatch) => {\n  dispatch({\n    type: SET_SEARCH_PREVIEW_ACTIVITY,\n    activity,\n  });\n};\n\nexport const closePreviewAction = () => async (dispatch) => {\n  dispatch({\n    type: CLOSE_SEARCH_PREVIEW_ACTIVITY,\n  });\n};\n\nexport const previousPageAction = () => async (dispatch) => {\n  dispatch({\n    type: PREVIOUS_PAGE,\n  });\n};\n\nexport const nextPageAction = () => async (dispatch) => {\n  dispatch({\n    type: NEXT_PAGE,\n  });\n};\n\nexport const showSearchProjectAction = (project) => async (dispatch) => {\n  const fullProject = await canvasService.getProject(project.id);\n  dispatch({\n    type: SHOW_SEARCH_PROJECT,\n    project: fullProject.project,\n  });\n};\n\nexport const showSearchPlaylistAction = (playlist) => async (dispatch) => {\n  dispatch({\n    type: SHOW_SEARCH_PLAYLIST,\n    playlist,\n  });\n};\n\n// Other\nexport const getH5pSettingsAction = (activityId) => async (dispatch) => {\n  const h5pSettings = await canvasService.getH5pSettings(activityId);\n  dispatch({\n    type: GET_H5P_SETTINGS,\n    h5pSettings,\n  });\n};\n\nexport const gradePassBackAction = (session, gpb, score, isLearner) => async (dispatch) => {\n  dispatch({\n    type: GRADE_PASS_BACK,\n  });\n  if (isLearner) await canvasService.tsugiGradePassback(session, gpb, score);\n};\n\nexport const activityInitAction = () => async (dispatch) => {\n  dispatch({\n    type: LTI_ACTIVITY_INIT,\n  });\n};\n\nexport const getLtiSummaryAction = (actor, activityId) => async (dispatch) => {\n  const summary = await canvasService.getLtiSummary(actor, activityId);\n  dispatch({\n    type: GET_LTI_SUMMARY,\n    summary,\n  });\n};\n\nexport const getLtiSummaryActivityInfoAction = (activityId) => async (dispatch) => {\n  const summaryActivityInfo = await canvasService.getH5pSettings(activityId);\n  dispatch({\n    type: GET_LTI_SUMMARY_ACTIVITY_INFO,\n    summaryActivityInfo,\n  });\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './style.scss';\n\nconst SummaryOutcome = (props) => {\n  const { outcome } = props;\n  const [toggles, setToggles] = useState([]);\n  const [answerCount, setAnswerCount] = useState(0);\n  const [showExpandButtons, setShowExpandButtons] = useState(false);\n\n  // Init\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    let count = 0;\n    const countAnswers = (data) => {\n      if (data.type === 'section') {\n        data.children.forEach((deeperData) => countAnswers(deeperData));\n      } else {\n        count += 1;\n      }\n    };\n\n    outcome.forEach((data) => countAnswers(data));\n    setAnswerCount(count);\n  }, []);\n\n  const toggleNode = (id) => {\n    let newToggles = [];\n    const oldToggles = [...toggles];\n\n    if (toggles.includes(id)) {\n      newToggles = oldToggles.filter((item) => item !== id);\n    } else {\n      newToggles = oldToggles.concat([id]);\n    }\n    setToggles(newToggles);\n  };\n\n  const toggleAllNodes = (action) => {\n    if (action === 'expand') {\n      const newToggles = [];\n      const getId = (data) => {\n        if (Array.isArray(data)) {\n          data.forEach((deeperData) => getId(deeperData));\n        }\n\n        if (data.title) {\n          newToggles.push(data.title);\n        }\n\n        if (data.type === 'section') {\n          data.children.forEach((deeperData) => getId(deeperData));\n        }\n      };\n      outcome.forEach((data) => getId(data));\n      setToggles(newToggles);\n    } else {\n      setToggles([]);\n    }\n  };\n\n  const renderNode = (data) => {\n    const opened = toggles.includes(data.title) ? '' : 'section-container-closed';\n\n    if (Array.isArray(data)) {\n      return data.map((node) => renderNode(node));\n    }\n\n    if (data.children) {\n      // Show expand buttons only when we have nesting\n      if (showExpandButtons === false) setShowExpandButtons(true);\n\n      return (\n        <div className=\"section-container\">\n          <div className=\"section-title\" onClick={() => toggleNode(data.title)}>\n            {data.title}\n            <span>{opened === '' ? '▼' : '◀'}</span>\n          </div>\n          <div className={`section-content ${opened} p-2`}>\n            {data.children.map((node) => renderNode(node))}\n          </div>\n        </div>\n      );\n    }\n\n    if (data.answer) {\n      return (\n        <div className=\"question-container\">\n          <div className=\"question-question\">\n            {data.title}\n          </div>\n          <div className=\"question-spacer\">\n            <div />\n          </div>\n          <div className=\"question-answers\">\n            <ul>\n              <li>\n                <div className=\"answer-container\">\n                  <div className=\"response-container\">\n                    {data.answer.responses?.length === 1 && (\n                      <span>\n                        {data.answer.responses[0]}\n                      </span>\n                    )}\n                    {data.answer.responses?.length > 1 && (\n                      <ul>\n                        {data.answer.responses.map((response) => (\n                          <li>\n                            {response}\n                          </li>\n                        ))}\n                      </ul>\n                    )}\n                  </div>\n                  <div className=\"score-container\">\n                    <div className=\"score-badge\">\n                      <div className=\"score-badge-header\">SCORE</div>\n                      <div className=\"score-badge-score\">\n                        {`${data.answer.score.raw} / ${data.answer.score.max}`}\n                      </div>\n                      <div className=\"score-badge-header\">\n                        <FontAwesomeIcon icon=\"clock\" />\n                      </div>\n                      <div className=\"score-badge-score\">\n                        {data.answer.duration}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <p className=\"question-title\">\n          Unknown\n        </p>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      {!outcome && (\n        <Alert>Missing outcome data.</Alert>\n      )}\n\n      {outcome && (\n        <div className=\"summary-outcome-controls\">\n          <div className=\"summary-outcome-answer-count\">\n            <FontAwesomeIcon icon=\"star\" />\n            {`${answerCount} Responses`}\n          </div>\n          {showExpandButtons && (\n            <div className=\"summary-outcome-controls-btns\">\n              <button type=\"button\" className=\"btn btn-primary\" onClick={() => toggleAllNodes('expand')}>Expand All</button>\n              <button type=\"button\" className=\"btn btn-primary\" onClick={() => toggleAllNodes('collapse')}>Collapse All</button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {outcome && outcome.map((node) => renderNode(node))}\n    </div>\n  );\n};\n\nSummaryOutcome.propTypes = {\n  outcome: PropTypes.array.isRequired,\n};\n\nexport default (SummaryOutcome);\n","export default __webpack_public_path__ + \"static/media/studio_new_logo_small.450d1318.png\";","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getLtiSummaryAction, getLtiSummaryActivityInfoAction } from 'store/actions/canvas';\nimport SummaryOutcome from 'containers/LMS/GoogleClassroom/ActivitySummary/SummaryOutcome';\nimport logo from 'assets/images/studio_new_logo_small.png';\nimport { Alert } from 'react-bootstrap';\nimport './style.scss';\n\nconst CanvasSummaryPage = (props) => {\n  const {\n    match,\n    summary,\n    activityInfo,\n    summaryError,\n    getLtiSummary,\n    getLtiActivityInfo,\n  } = props;\n  const encodedParams = new URLSearchParams(window.location.search).get('submission');\n  const params = new URLSearchParams(atob(encodedParams));\n  const activityId = params.get('activity_id');\n  const resultId = params.get('result_id');\n  const userId = params.get('user_id');\n  const referrer = params.get('referrer');\n\n  // Init\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    const actor = JSON.stringify({\n      account: {\n        homePage: referrer,\n        name: userId,\n      },\n    });\n    const activity = `${window.location.origin}/activity/${activityId}/submission/${resultId}`;\n    getLtiActivityInfo(activityId);\n    getLtiSummary(actor, activity);\n  }, [match]);\n\n  useEffect(() => {\n    console.log(summary);\n    console.log(summaryError);\n  }, [summaryError, summary, activityInfo]);\n\n  return (\n    <div className=\"outcome-summary-container\">\n      {summary === null && summaryError === null && (\n        <div className=\"loading\">\n          <div className=\"loading_image\">\n            <img src={logo} alt=\"Curriki Studio logo\" />\n          </div>\n          <div className=\"loading-message\">Please wait while retrieving your data ...</div>\n        </div>\n      )}\n      {summaryError && (\n        <div className=\"row m-4\">\n          <div className=\"col text-center\">\n            <Alert variant=\"warning\">\n              <p>An error has occurred:</p>\n              <p>\n                {summaryError}\n              </p>\n            </Alert>\n          </div>\n        </div>\n      )}\n      {summary && activityInfo && (\n        <>\n          <div className=\"row\">\n            <div className=\"col\">\n              <div className=\"title-container\">\n                <div className=\"title-label\">\n                  ACTIVITY SUMMARY\n                </div>\n                <div className=\"title-spacer\">\n                  <div />\n                </div>\n                <div className=\"title-content\">\n                  {activityInfo.title}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row m-4\">\n            <div className=\"col\">\n              <SummaryOutcome outcome={summary} />\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nCanvasSummaryPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  summary: PropTypes.array.isRequired,\n  activityInfo: PropTypes.object.isRequired,\n  summaryError: PropTypes.object.isRequired,\n  getLtiSummary: PropTypes.func.isRequired,\n  getLtiActivityInfo: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  summary: state.canvas.summary,\n  activityInfo: state.canvas.summaryActivityInfo,\n  summaryError: state.canvas.summaryError,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  getLtiSummary: (actor, activityId) => dispatch(getLtiSummaryAction(actor, activityId)),\n  getLtiActivityInfo: (actor, activityId) => dispatch(getLtiSummaryActivityInfoAction(actor, activityId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CanvasSummaryPage));\n"],"sourceRoot":""}