(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[33],{379:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return v}));var r,a,c=n(385),i=n(387),o=n(386);function u(e){if(e.errors&&!Array.isArray(e.errors)&&"object"===typeof e.errors){var t=[];return Object.keys(e.errors).forEach((function(n){Array.isArray(e.errors[n])&&(t=t.concat(e.errors[n]))})),{errors:t}}return e}var s=function(e){return e&&e.trim()?void 0:"* Required"},l=function(e){return function(t){return t&&t.length>e?"* Must be ".concat(e," characters or less"):void 0}},d=Object(i.b)(r||(r=Object(c.a)(["",""])),o.fadeIn),p=i.a.div(a||(a=Object(c.a)(["\n  animation: 0.8s ",";\n"])),d),f=function(e){return!new RegExp("[^0-9a-zA-Z@ ._-]").test(e)},v=function(e){return!new RegExp("[^a-zA-Z]").test(e)}},382:function(e,t,n){"use strict";n.d(t,"r",(function(){return d})),n.d(t,"w",(function(){return p})),n.d(t,"u",(function(){return f})),n.d(t,"v",(function(){return v})),n.d(t,"t",(function(){return b})),n.d(t,"n",(function(){return j})),n.d(t,"l",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"m",(function(){return O})),n.d(t,"x",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return w})),n.d(t,"i",(function(){return k})),n.d(t,"o",(function(){return N})),n.d(t,"c",(function(){return z})),n.d(t,"q",(function(){return C})),n.d(t,"b",(function(){return P})),n.d(t,"p",(function(){return S})),n.d(t,"a",(function(){return E})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return T})),n.d(t,"d",(function(){return L})),n.d(t,"s",(function(){return R}));var r=n(4),a=n.n(r),c=n(6),i=n(142),o=n(8),u=n.n(o),s=n(1),l=n(15),d=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.Zd});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.zf,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.Le});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.Oe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.Ge});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.getState(),r=n.organization.activeOrganization,e.prev=2,t({type:s.ud}),e.next=6,i.a.getAll(null===r||void 0===r?void 0:r.id);case 6:c=e.sent,o=c.teams,t({type:s.hd,payload:{teams:o}}),t({type:s.vd}),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(2),t({type:s.vd}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.getState(),r=n.organization.activeOrganization,e.prev=2,t({type:s.ud}),e.next=6,i.a.getAllSubOrganizationTeams(null===r||void 0===r?void 0:r.id);case 6:c=e.sent,o=c.teams,t({type:s.hd,payload:{teams:o}}),t({type:s.vd}),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(2),t({type:s.vd}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.getState(),c=r.organization.activeOrganization,t.prev=2,n({type:s.eb}),t.next=6,i.a.create(e,null===c||void 0===c?void 0:c.id);case 6:return o=t.sent,u=o.team,n({type:s.fb,payload:{team:u}}),t.abrupt("return",u);case 12:throw t.prev=12,t.t0=t.catch(2),n({type:s.db}),t.t0;case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.getState(),c=r.organization.activeOrganization,t.prev=2,n({type:s.jd}),t.next=6,i.a.get(e,null===c||void 0===c?void 0:c.id);case 6:o=t.sent,u=o.team,n({type:s.kd,payload:{team:u}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),n({type:s.id});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,u,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=l.a.getState(),o=c.organization.activeOrganization,n.prev=2,r({type:s.Bf}),n.next=6,i.a.update(e,t,null===o||void 0===o?void 0:o.id);case 6:u=n.sent,d=u.team,r({type:s.Cf,payload:{team:d}}),n.next=15;break;case 11:throw n.prev=11,n.t0=n.catch(2),r({type:s.Af}),n.t0;case 15:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.getState(),c=r.organization.activeOrganization,t.prev=2,n({type:s.yb}),t.next=6,i.a.remove(e,null===c||void 0===c?void 0:c.id);case 6:n({type:s.zb,payload:{teamId:e}}),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(2),n({type:s.xb}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.Dc}),t.next=4,i.a.inviteConfirm(e);case 4:return r=t.sent,c=r.invited,n(c?{type:s.Ec,payload:{users:[e]}}:{type:s.Cc}),t.abrupt("return",c);case 10:throw t.prev=10,t.t0=t.catch(0),n({type:s.Cc}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.Ec,payload:{users:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var o,u;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=l.a.getState(),u=o.organization.activeOrganization,r.prev=2,c({type:s.Ac}),r.next=6,i.a.inviteMembers(e,t,n,null===u||void 0===u?void 0:u.id);case 6:c({type:s.Bc}),c(O(e)),r.next=14;break;case 10:throw r.prev=10,r.t0=r.catch(2),c({type:s.zc}),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e){return r.apply(this,arguments)}}()},N=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:s.Id,payload:{userId:t}}),r.next=4,i.a.removeMember(e,t,n);case 4:c({type:s.Jd}),c(O(e)),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(0),c({type:s.Ed}),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},z=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:s.w}),n.next=4,i.a.addProjects(e,t);case 4:return c=n.sent,r({type:s.x}),r(O(e)),n.abrupt("return",c);case 10:throw n.prev=10,n.t0=n.catch(0),r({type:s.v}),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:s.Ld}),n.next=4,i.a.removeProject(e,t);case 4:r({type:s.Md}),r(O(e)),n.next=12;break;case 8:throw n.prev=8,n.t0=n.catch(0),r({type:s.Kd}),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},P=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:s.o}),r.next=4,i.a.addMembersToProject(e,t,n);case 4:c({type:s.p}),c(O(e)),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(0),c({type:s.n}),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},S=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:s.Gd}),r.next=4,i.a.removeMemberFromProject(e,t,n);case 4:c({type:s.Hd}),c(O(e)),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(0),c({type:s.Fd}),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.teamRoleType(e);case 2:r=t.sent,n({type:s.y,payload:null===r||void 0===r?void 0:r.teamRoleTypes});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.teamPermisison(e,t);case 2:c=n.sent,r({type:s.u,payload:null===c||void 0===c?void 0:c.teamPermissions});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=l.a.getState(),o=c.organization.activeOrganization,n.next=4,i.a.getTeamProject(null===o||void 0===o?void 0:o.id,e,t);case 4:return u=n.sent,r({type:s.ec,payload:u.data}),n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},L=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=l.a.getState(),o=c.organization.activeOrganization,n.next=4,i.a.changeUserRole(null===o||void 0===o?void 0:o.id,e,t);case 4:u.a.fire({icon:"success",title:"Permission Updated"}),r({type:s.F});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},R=function(e){return function(t){t({type:s.zd,payload:e})}}},383:function(e,t,n){"use strict";var r=n(7),a=n(3),c=n.n(a),i=n(17),o=n.n(i);t.a=function(e){return c.a.forwardRef((function(t,n){return c.a.createElement("div",Object(r.a)({},t,{ref:n,className:o()(t.className,e)}))}))}},388:function(e,t,n){"use strict";var r=n(7),a=n(10),c=n(9),i=n.n(c),o=n(3),u=n.n(o),s=n(17),l=n.n(s),d=["label","onClick","className"],p={label:i.a.string.isRequired,onClick:i.a.func},f=u.a.forwardRef((function(e,t){var n=e.label,c=e.onClick,i=e.className,o=Object(a.a)(e,d);return u.a.createElement("button",Object(r.a)({ref:t,type:"button",className:l()("close",i),onClick:c},o),u.a.createElement("span",{"aria-hidden":"true"},"\xd7"),u.a.createElement("span",{className:"sr-only"},n))}));f.displayName="CloseButton",f.propTypes=p,f.defaultProps={label:"Close"},t.a=f},424:function(e,t,n){"use strict";var r=n(7),a=n(10),c=n(17),i=n.n(c),o=n(3),u=n.n(o),s=n(43),l=n(32),d=n(20),p=n(140),f=n(388),v=n(383),b=n(81),j=n(63),m=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],h=Object(v.a)("h4");h.displayName="DivStyledAsH4";var O=Object(b.a)("alert-heading",{Component:h}),y=Object(b.a)("alert-link",{Component:j.a}),x={show:!0,transition:p.a,closeLabel:"Close alert"},g=u.a.forwardRef((function(e,t){var n=Object(s.useUncontrolled)(e,{show:"onClose"}),c=n.bsPrefix,o=n.show,v=n.closeLabel,b=n.className,j=n.children,h=n.variant,O=n.onClose,y=n.dismissible,x=n.transition,g=Object(a.a)(n,m),w=Object(d.a)(c,"alert"),k=Object(l.a)((function(e){O&&O(!1,e)})),N=!0===x?p.a:x,z=u.a.createElement("div",Object(r.a)({role:"alert"},N?void 0:g,{ref:t,className:i()(b,w,h&&w+"-"+h,y&&w+"-dismissible")}),y&&u.a.createElement(f.a,{onClick:k,label:v}),j);return N?u.a.createElement(N,Object(r.a)({unmountOnExit:!0},g,{ref:void 0,in:o}),z):o?z:null}));g.displayName="Alert",g.defaultProps=x,g.Link=y,g.Heading=O,t.a=g},651:function(e,t,n){"use strict";(function(e){var r=n(23),a=n(27),c=n(3),i=n(30),o=n(379),u=n(424),s=(n(652),n(8)),l=n.n(s),d=n(12),p=n(382),f=n(2);function v(t){var n=t.isSaving,s=t.projects,v=t.handleSubmit,b=t.selectedProjects,j=t.setSelectedProjects,m=t.search,h=t.setSearch,O=Object(d.c)(),y=Object(c.useCallback)((function(e){h(e.target.value)}),[h]),x=Object(c.useState)(null),g=Object(a.a)(x,2),w=g[0],k=g[1],N=Object(c.useCallback)((function(e,t){O(Object(p.s)(t));var n=Object(r.a)(b),a=n.indexOf(e);-1===a?j([].concat(Object(r.a)(n),[e])):(n.splice(a,1),j(n))}),[b]),z=Object(c.useCallback)((function(){v(b)}),[b,v]);Object(c.useEffect)((function(){s&&k(s.filter((function(e){return e.name.toLowerCase().includes(m.toLowerCase())})))}),[s,m]);var C=Object(f.jsxs)("button",{type:"button",className:"create-team-submit-btn",disabled:n,onClick:z,children:["Finish",n&&Object(f.jsx)(i.a,{icon:"spinner"})]});return Object(f.jsx)("div",{className:"team-information",children:Object(f.jsxs)(o.a,{children:[Object(f.jsxs)("div",{className:"title-box",children:[Object(f.jsx)("h2",{className:"title",children:"Add/Assign Project"}),Object(f.jsx)("div",{className:"title-cross"}),(null===w||void 0===w?void 0:w.length)>0?C:null]}),Object(f.jsxs)("div",{className:"assign-project-wrapper",children:[Object(f.jsx)("div",{className:"search-box",children:Object(f.jsx)("input",{type:"text",placeholder:"Filter by name",value:m,onChange:y})}),Object(f.jsx)("div",{className:"assign-projects",children:w?w.length>0?w.map((function(t){return Object(f.jsxs)("div",{className:"assign-project-item",onClick:function(){0===b.length||b[0]===t.id?N(t.id,t.name):l.a.fire({icon:"warning",title:"Action Prohibited",text:"You are only allowed to select 1 project."})},children:[Object(f.jsx)("div",{className:"project-img",style:{backgroundImage:t.thumb_url.includes("pexels.com")?"url(".concat(t.thumb_url,")"):"url(".concat(e.config.resourceUrl).concat(t.thumb_url,")")}}),Object(f.jsx)("div",{className:"assign-project-radio",children:b.indexOf(t.id)>-1&&Object(f.jsx)("span",{className:"checkmark"})}),Object(f.jsx)("div",{className:"assign-project-title",children:t.name})]},t.id)})):Object(f.jsx)(u.a,{variant:"warning",children:" No Project Found. "}):Object(f.jsx)(u.a,{variant:"primary",children:"Loading..."})}),(null===w||void 0===w?void 0:w.length)>0?C:null]})]})})}v.defaultProps={selectedProjects:[],search:""},t.a=v}).call(this,n(36))},652:function(e,t,n){},949:function(e,t,n){},990:function(e,t,n){"use strict";n.r(t);var r=n(27),a=n(3),c=n(24),i=n(21),o=n(12),u=n(8),s=n.n(u),l=n(379),d=n(80),p=n(382),f=n(30),v=n(424),b=n(651),j=(n(949),n(2));t.default=Object(c.h)(Object(o.b)((function(e){return{team:e.team,projects:e.project.projects}}),(function(e){return{loadProjects:function(){return e(Object(d.m)())},loadTeam:function(t){return e(Object(p.m)(t))},addProjects:function(t,n){return e(Object(p.c)(t,n))}}}))((function(e){var t,n=e.history,u=e.match.params.teamId,d=e.team,m=e.projects,h=e.loadProjects,O=e.loadTeam,y=e.addProjects,x=Object(c.g)(),g=Object(o.c)(),w=Object(o.d)((function(e){return e.organization})),k=w.activeOrganization,N=Object(o.d)((function(e){return e.team})).teamPermission;Object(a.useEffect)((function(){k&&h(),O(u)}),[h,O,u,k]),Object(a.useEffect)((function(){var e,t;0===Object.keys(N).length&&(null===w||void 0===w||null===(e=w.currentOrganization)||void 0===e?void 0:e.id)&&u&&g(Object(p.g)(null===w||void 0===w||null===(t=w.currentOrganization)||void 0===t?void 0:t.id,u))}),[d]);var z=Object(a.useState)([]),C=Object(r.a)(z,2),P=C[0],S=C[1],E=Object(a.useState)(""),A=Object(r.a)(E,2),T=A[0],L=A[1],R=m.filter((function(e){return-1===(d.selectedTeam.projects||[]).findIndex((function(t){return e.id===t.id}))})),F=Object(a.useCallback)((function(e){y(u,e).then((function(e){var t;n.push("/studio/org/".concat(null===(t=w.currentOrganization)||void 0===t?void 0:t.domain,"/teams/").concat(u,"/projects")),s.a.fire({icon:"success",title:null===e||void 0===e?void 0:e.message})}))}),[y,u,n]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"side-wrapper-team",children:Object(j.jsxs)("div",{className:"bread-crumb",children:[Object(j.jsx)("div",{className:"main-flex-top",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"Team"}),Object(j.jsx)(f.a,{icon:"angle-right"}),Object(j.jsx)("span",{children:"Add Project"})]})}),Object(j.jsxs)(i.b,{className:"back-button-main-page",onClick:function(){return x.goBack()},children:[Object(j.jsx)(f.a,{icon:"chevron-left"}),"Back"]})]})}),Object(j.jsxs)("div",{className:"teams-page",children:[Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)(l.a,{className:"assign-projects",children:Object(j.jsx)("div",{className:"assign-projects-content",children:(null===N||void 0===N||null===(t=N.Team)||void 0===t?void 0:t.includes("team:add-project"))?Object(j.jsx)(b.a,{isSaving:d.isLoading,projects:R,handleSubmit:F,selectedProjects:P,setSelectedProjects:S,search:T,setSearch:L}):Object(j.jsx)(v.a,{variant:"danger",children:" You are not authorized to add projects."})})})]})]})})))}}]);
//# sourceMappingURL=33.aee58f83.chunk.js.map