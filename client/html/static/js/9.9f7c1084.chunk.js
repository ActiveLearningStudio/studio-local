(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9,10],{411:function(t,e,i){"use strict";i.d(e,"c",(function(){return c})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return r}));var n=i(0);function c(t){return["/gclass/launch/:userId/:courseId/:activityId/:classworkId","/lti-tools/activity/:activityId","/activity/:activityId/shared","/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId"].includes(t)}function o(t,e,i){var c,o,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=i.path,s=i.activityId,l=i.submissionId,d=i.attemptId,u=i.studentId,p=i.courseId,v=i.homepage,m=i.toolPlatform,h=i.activeCourse,f=i.customCourseName,y=i.customApiDomainUrl,b=i.customCourseCode,x=[{"/project/:projectId/playlist/:playlistId/activity/:activityId/preview":"CurrikiStudio"},{"/activity/:activityId/shared":"CurrikiStudio"},{"/gclass/launch/:userId/:courseId/:activityId/:classworkId":"Google Classroom"},{"/lti-tools/activity/:activityId":"LTI client"},{"/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId":"GenericLMS"}].find((function(t){return t[a]}));if(void 0!==x){var g,j,I=Object(n.a)({},e),w=[{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(s,"/submission/").concat(l,"/").concat(d)},{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(s,"/submission/").concat(l)}];"Google Classroom"===x[a]&&(w.push({objectType:"Activity",id:"".concat(window.location.origin,"/gclass/").concat(p)}),I.object&&I.object.definition&&I.object.definition.extensions&&(I.object.definition.extensions["http://currikistudio.org/x-api/gclass-alternate-course-id"]=h.alternateLink,I.object.definition.extensions["http://currikistudio.org/x-api/course-name"]=h.name)),x[a],w.push({objectType:"Activity",id:"".concat(window.location.origin,"/lti/").concat(p)}),(null===I||void 0===I||null===(g=I.object)||void 0===g||null===(j=g.definition)||void 0===j?void 0:j.extensions)&&(I.object.definition.extensions["http://currikistudio.org/x-api/lms-course-name"]=f,I.object.definition.extensions["http://currikistudio.org/x-api/lms-domain-url"]=y,I.object.definition.extensions["http://currikistudio.org/x-api/lms-course-code"]=b);var k={objectType:"Agent",account:{homePage:v||"https://classroom.google.com",name:u}};I.context&&("LTI client"===x[a]?I.context.platform=m:I.context.platform=x[a],I.context.contextActivities.other=w),I.actor=k,r&&(I.verb={id:"http://adlnet.gov/expapi/verbs/skipped",display:{"en-US":"skipped"}},I.result&&I.result.score&&I.result.score.min===I.result.score.max&&(I.result.score.max+=1)),I.object&&"compound"===I.object.definition.interactionType&&(I.object.definition.interactionType="choice");for(var O=t;O&&"H5P.InteractiveBook"!==(null===(C=O)||void 0===C||null===(P=C.libraryInfo)||void 0===P?void 0:P.machineName);){var C,P;O=O.parent}if("H5P.InteractiveBook"===(null===(c=O)||void 0===c||null===(o=c.libraryInfo)||void 0===o?void 0:o.machineName)){var A=O.getActiveChapter();I.object.definition.extensions["http://currikistudio.org/x-api/h5p-chapter-name"]=O.chapters[A].title}return I}}function r(t,e,i){var c,o=i.path,r=i.activityId,a=Object(n.a)({},e),s=Math.floor(1e5*Math.random()).toString(),l=Math.floor(1e5*Math.random()).toString(),d=Math.floor(1e5*Math.random()).toString(),u=[{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(r,"/submission/").concat(s,"/").concat(l)},{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(r,"/submission/").concat(s)},{objectType:"Activity",id:"".concat(window.location.origin,"/gclass/").concat(d)}],p=[{"/project/:projectId/playlist/:playlistId/activity/:activityId/preview":"CurrikiStudio"},{"/activity/:activityId/shared":"CurrikiStudio"},{"/gclass/launch/:userId/:courseId/:activityId/:classworkId":"Google Classroom"},{"/lti-tools/activity/:activityId":"LTI client"},{"/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId":"GenericLMS"}].find((function(t){return t[o]}));if(void 0!==p)return(null===a||void 0===a||null===(c=a.context)||void 0===c?void 0:c.contextActivities)&&(a.context.platform=p[o],a.context.contextActivities.other=u),a.object.definition.extensions["http://id.tincanapi.com/extension/referrer"]=document.referrer?document.referrer:window.location.origin,a}},516:function(t,e,i){"use strict";i.r(e);var n=i(0),c=i(4),o=i.n(c),r=i(6),a=i(27),s=i(3),l=i(9),d=i.n(l),u=i(12),p=i(24),v=i.p+"static/media/276.f6c236f2.gif",m=i(72),h=i(411),f=i(2),y=0,b=function(t){var e=Object(s.useState)(!0),i=Object(a.a)(e,2),c=i[0],l=i[1],d=Object(s.useState)(null),p=Object(a.a)(d,2),b=p[0],x=p[1],g=t.activityId,j=t.loadH5pResourceProp,I=t.showLtiPreview,w=t.showActivityPreview,k=Object(u.c)(),O=function(){var t=Object(r.a)(o.a.mark((function t(e){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.H5PIntegration=e.h5p.settings,document.getElementById("curriki-h5p-wrapper").innerHTML=e.h5p.embed_code.trim(),i=e.h5p.settings.core.styles.concat(e.h5p.settings.loadedCss),t.next=6,Promise.all(i.map((function(t){var e=document.createElement("link");return e.href=t,e.type="text/css",e.rel="stylesheet",document.head.appendChild(e),!0})));case 6:e.h5p.settings.core.scripts.concat(e.h5p.settings.loadedJs).forEach((function(t){var e=document.createElement("script");e.src=t,e.async=!1,document.body.appendChild(e)})),l(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){if(b!==g){var e=document.getElementsByClassName("h5p-iframe");if(e.length&&e[0].remove(),null===g||void 0===g)return;var i=function(){var e=Object(r.a)(o.a.mark((function e(){var i,c,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!I){e.next=10;break}return e.next=4,Object(m.r)(g);case 4:if(!(i=e.sent).h5p_activity){e.next=8;break}return e.next=8,O(i.h5p_activity);case 8:e.next=25;break;case 10:if(!w){e.next=19;break}return e.next=13,Object(m.s)(g);case 13:if(!(c=e.sent).activity){e.next=17;break}return e.next=17,O(c.activity);case 17:e.next=25;break;case 19:return e.next=21,j(g);case 21:if(!(r=e.sent).activity){e.next=25;break}return e.next=25,O(r.activity);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),l(!1);case 30:a=setInterval((function(){try{var e=document.getElementsByClassName("h5p-iframe")[0].contentWindow;e.H5P&&e.H5P.externalDispatcher&&h.c(t.match.path)&&(s(),e.H5P.externalDispatcher.on("xAPI",(function(e){y>0&&k(Object(m.t)(JSON.stringify(h.b(e.data.statement,Object(n.a)({},t))))),y+=1})))}catch(i){console.log(i)}})),s=function(){return clearInterval(a)};case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(){return e.apply(this,arguments)}}();i(),x(g)}}),[b,g,I,w,j]),Object(f.jsx)(f.Fragment,{children:c?Object(f.jsx)("div",{id:"curriki-h5p-wrapper",children:Object(f.jsx)("div",{className:"loader_gif",children:Object(f.jsx)("img",{src:v,alt:""})})}):Object(f.jsx)("div",{id:"curriki-h5p-wrapper",children:Object(f.jsx)("div",{className:"loader_gif",style:{color:"black"},children:"Unable to Load Activity"})})})};b.defaultProps={showLtiPreview:!1,showActivityPreview:!1,match:d.a.shape({path:d.a.string})};e.default=Object(p.h)(Object(u.b)((function(t){return{resource:t.resource,parentPlaylist:t.playlist.selectedPlaylist}}),(function(t){return{loadH5pResourceProp:function(e){return t(Object(m.o)(e))}}}))(b))}}]);
//# sourceMappingURL=9.9f7c1084.chunk.js.map