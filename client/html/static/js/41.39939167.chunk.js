(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[41],{392:function(e,t,n){"use strict";n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return k})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return P})),n.d(t,"k",(function(){return _})),n.d(t,"j",(function(){return I})),n.d(t,"c",(function(){return T})),n.d(t,"i",(function(){return L})),n.d(t,"d",(function(){return B})),n.d(t,"l",(function(){return E})),n.d(t,"e",(function(){return A})),n.d(t,"a",(function(){return G}));var r=n(0),c=n(4),o=n.n(c),s=n(6),a=n(8),i=n.n(a),u=n(59),l=n(44),d=n.n(l),j=n(25),h=n(5),f=j.a.apiVersion,p="https://classroom.googleapis.com/v1",b=function(e){return d()({method:"get",url:"".concat(p,"/userProfiles/me"),headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e}))},m=function(e){return d()({method:"get",url:"".concat(p,"/courses"),params:{courseStates:"ACTIVE"},headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return h.a.get("/".concat(f,"/google-classroom/activities/").concat(e,"/h5p-resource-settings"),{},{gcuid:t,submissionid:n}).then((function(e){return e.data})).catch((function(e){Promise.reject(e.response.data),i.a.fire({title:"Error",icon:"error",html:e.message||"Something went wrong! We are unable to load activity."})}))},O=function(e,t,n){return h.a.post("/".concat(f,"/google-classroom/classwork/").concat(e,"/submission"),{course_id:t,access_token:n}).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},v=function(e,t,n){return h.a.post("/".concat(f,"/google-classroom/turnin/").concat(e),{course_id:t,access_token:n}).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},x=function(e,t,n,r){return h.a.post("/".concat(f,"/google-classroom/validate-summary-access"),{course_id:t,access_token:e,gc_classwork_id:n,gc_submission_id:r}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},w=function(e,t){return h.a.post("/".concat(f,"/outcome/summary"),{actor:e,activity:t}).then((function(e){return e.data})).catch((function(e){return e&&e.response&&e.response.data&&e.response.data.errors?e.response.data:(console.log("Unexpected error in summary endpoint:"),console.log(e),null)}))},y=n(1),S=function(e){return{type:y.rc,value:e}},k=function(){},N=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0)),t.prev=1,t.next=4,u.a.googleShareToken(JSON.stringify(e.tokenObj));case 4:return t.next=6,u.a.getCourses();case 6:r=t.sent,n({type:y.z,payload:r.courses}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:y.qc,id:e}},P=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(S("close")),n((r=e,{type:y.pc,id:r}));try{i.a.fire({confirmButtonColor:"#5952c6",icon:"error",text:e.error.replace(/_/g," ")}),n(C(e))}catch(c){console.log(c)}case 3:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e.accessToken);case 2:r=t.sent,n({type:y.Ce,studentData:{auth:e,profile:r}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:y.De,newToken:Object(r.a)({},e)});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:r=t.sent,n({type:y.bc,coursesResponse:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var r=Object(s.a)(o.a.mark((function r(c){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g(e,t,n);case 2:s=r.sent,c({type:y.Rb,h5pSettings:s});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},B=function(e,t,n){return function(){var r=Object(s.a)(o.a.mark((function r(c){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(e,t,JSON.stringify(n.tokenObj)).catch((function(e){return e}));case 2:s=r.sent,c({type:y.cc,submission:s});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},E=function(e,t,n){return function(){var r=Object(s.a)(o.a.mark((function r(c){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v(e,t,JSON.stringify(n.tokenObj));case 2:s=r.sent,c({type:y.ef,turnedIn:s});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,n,r){return function(){var c=Object(s.a)(o.a.mark((function c(s){var a;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,x(JSON.stringify(e.tokenObj),t,n,r);case 2:a=c.sent,s({type:y.dc,summaryAuth:a});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},G=function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(r){var c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(e,t);case 2:c=n.sent,r({type:y.Xb,outcomeSummary:c});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},418:function(e,t,n){"use strict";t.a=n.p+"static/media/loginlogo.b91b6143.png"},506:function(e,t,n){"use strict";(function(e){var r=n(27),c=n(3),o=n(12),s=n(24),a=(n(564),n(565)),i=n(135),u=n(419),l=n(418),d=n(392),j=n(507),h=n(2);t.a=Object(s.h)(Object(o.b)(null,(function(e){return{googleClassRoomLogin:function(t){return e(Object(d.f)(t))},googleClassRoomLoginFailure:function(t){return e(Object(d.g)(t))}}}))((function(t){var n=t.show,s=t.onHide,d=t.googleClassRoomLogin,f=(t.googleClassRoomLoginFailure,t.projectId),p=Object(o.d)((function(e){return e})),b=Object(c.useState)(""),m=Object(r.a)(b,2),g=m[0],O=m[1],v=Object(c.useState)(!1),x=Object(r.a)(v,2),w=x[0],y=x[1],S=Object(c.useState)([]),k=Object(r.a)(S,2),N=k[0],C=k[1],P=Object(c.useState)(!0),_=Object(r.a)(P,2),I=_[0],T=_[1];return Object(c.useEffect)((function(){!0===p.share.googleShare?y(!0):!1===p.share.googleShare?y(!1):"close"===p.share.googleShare&&s()}),[p,s]),Object(c.useEffect)((function(){p.share.courses&&(C(p.share.courses),T(!1))}),[p.share.courses]),Object(h.jsx)(a.a,{open:n,onClose:s,center:!0,children:Object(h.jsxs)("div",{className:"model-box-google model-box-view",children:[Object(h.jsx)("div",{className:"modal-header",children:Object(h.jsx)("img",{src:l.a,alt:""})}),Object(h.jsx)("div",{className:"model-body",style:{maxWidth:"500px"},children:Object(h.jsxs)("div",{className:"sign-in-google",children:[Object(h.jsx)("br",{}),w?Object(h.jsx)("div",{className:"classroom-form",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Are you sure you want to share this Project to Google Classroom?"}),I&&Object(h.jsx)("p",{className:"loading-classes",children:"Loading Classes...."}),Object(h.jsx)(i.b,{initialValues:{course:void 0,heading:"test",description:"test",room:"test"},onSubmit:function(e){s(),"Create a new class"===e.course?Object(j.a)(f,null,g):Object(j.a)(f,e.course,g),T(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleBlur,c=e.handleSubmit;return Object(h.jsxs)("form",{onSubmit:c,children:[Object(h.jsxs)("select",{className:"form-control select-dropdown",name:"course",value:t.course,onChange:n,onBlur:r,children:[Object(h.jsx)("option",{children:"Create a new class"}),!!N&&N.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),!I&&Object(h.jsx)("button",{type:"submit",children:"Confirm"})]})}})]})}):Object(h.jsxs)("div",{className:"content-authorization",children:[Object(h.jsx)("p",{children:"With CurrikiStudio you can publish your Project as a new Google Classroom course."}),Object(h.jsx)("p",{children:"To start, please log into your Google account."}),Object(h.jsx)("div",{children:Object(h.jsx)(u.GoogleLogin,{clientId:e.config.gapiClientId,onSuccess:function(e){d(e),O(JSON.stringify(e.tokenObj))},scope:"https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.courses https://www.googleapis.com/auth/classroom.topics https://www.googleapis.com/auth/classroom.coursework.me https://www.googleapis.com/auth/classroom.coursework.students",cookiePolicy:"single_host_origin",children:Object(h.jsx)("span",{children:"Login with Google"})})})]})]})})]})})})))}).call(this,n(36))},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),c=n.n(r),o=n(6),s=n(8),a=n.n(s),i=n(59),u=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.a.fire({title:"Publishing....",showCancelButton:!1,showConfirmButton:!1,allowOutsideClick:!1}),e.next=3,i.a.googleClassShare(t,n,r);case 3:e.sent.course?a.a.fire({icon:"success",title:"Shared!",confirmButtonColor:"#5952c6",html:"Your project has been shared to Google Classroom"}):a.a.fire({confirmButtonColor:"#5952c6",icon:"error",text:"Something went wrong, Kindly try again."});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},921:function(e,t,n){"use strict";(function(e){var r=n(0),c=n(27),o=n(3),s=n(24),a=n(12),i=n(568),u=n.n(i),l=n(30),d=n(424),j=n(80),h=n(570),f=n(515),p=n(506),b=(n(571),n(2));function m(t){var n=t.match,s=t.sampleId,i=t.loadMyProjectsPreviewShared,j=t.setModalShow,m=t.setCurrentActivity,g=Object(a.d)((function(e){return e.project})),O=Object(o.useRef)([]),v=Object(o.useState)(null),x=Object(c.a)(v,2),w=x[0],y=x[1],S=Object(o.useState)(!1),k=Object(c.a)(S,2),N=k[0],C=k[1];Object(o.useEffect)((function(){g&&Object.keys(g.projectSelect).length>0&&y(g.projectSelect)}),[g]);var P,_={dots:!1,arrows:!0,infinite:!1,speed:500,slidesToShow:5.5,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1.5,slidesToScroll:1}}]};return Object(o.useEffect)((function(){i(s||n.params.projectId)}),[n.params.projectId,s]),P=w?w.playlists&&w.playlists.map((function(e,t){var c;return c=e.activities.length>0?e.activities.map((function(t){return Object(b.jsx)(h.a,{activity:t,projectId:parseInt(n.params.projectId,10),playlistId:e.id,sampleID:s,setModalShow:j,setCurrentActivity:m,lti:!0},t.id)})):Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)("div",{className:"alert alert-info",role:"alert",children:"No activity defined for this playlist."})}),Object(b.jsxs)("div",{className:"check-each",children:[Object(b.jsxs)("button",{type:"button",ref:function(e){O.current[t]=e},className:0===t?"active accordion":" accordion",onClick:function(){O.current[t].classList.toggle("active")},children:[Object(b.jsx)(l.a,{icon:"plus"}),e.title]}),Object(b.jsx)("div",{className:"panel ",children:Object(b.jsx)("ul",{children:Object(b.jsx)(u.a,Object(r.a)(Object(r.a)({},_),{},{children:c}))})})]},e.id)})):Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)("div",{className:"alert alert-info",role:"alert",children:"No playlists defined for this project."})}),Object(b.jsx)("div",{className:"full-width-share",children:w&&"error"===w.status?Object(b.jsx)(f.a,{text:"Project is not Public"}):Object(b.jsx)(b.Fragment,{children:w?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"scene flex-wrap",children:[Object(b.jsx)("div",{className:"scene-img",children:w.thumb_url&&w.thumb_url.includes("pexels.com")?Object(b.jsx)("img",{src:w.thumb_url,alt:"thumbnail"}):Object(b.jsx)("img",{src:e.config.resourceUrl+w.thumb_url,alt:"thumbnail"})}),Object(b.jsxs)("div",{className:"sce_cont",children:[Object(b.jsx)("ul",{className:"bar_list flex-div",children:Object(b.jsx)("li",{children:Object(b.jsxs)("div",{className:"title_lg check",children:[Object(b.jsx)("div",{children:w.name}),Object(b.jsxs)("div",{className:"googleSign",onClick:function(){return C(!0)},children:[Object(b.jsx)(l.a,{icon:"google"}),"Publish Google Class"]})]})})}),Object(b.jsx)("p",{className:"expandiv",children:w.description})]})]})}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"playlist-div",children:[Object(b.jsx)("div",{className:"playlist-title-div",children:Object(b.jsx)("div",{className:"title-md",children:"Playlists"})}),Object(b.jsx)("div",{className:"all-playlist check-custom",children:Object(b.jsx)("div",{className:"playlist-accordion",id:"custom_accordion",children:P})})]})}),Object(b.jsx)(p.a,{projectId:w.id,show:N,onHide:function(){C(!1)}})]}):!1===g.isSharedProject?Object(b.jsx)(d.a,{variant:"danger",style:{margin:"40px",fontSize:"1.5em"},children:"Project is not sharable."}):Object(b.jsx)(d.a,{variant:"primary",style:{margin:"20px"},children:"Loading ..."})})})}m.defaultProps={sampleId:null};t.a=Object(s.h)(Object(a.b)(null,(function(e){return{loadMyProjectsPreviewShared:function(t){return e(Object(j.o)(t))}}}))(m))}).call(this,n(36))},987:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(3),o=n(12),s=n(24),a=n(696),i=n(80),u=n(921),l=n(608),d=n(2);t.default=Object(s.h)(Object(o.b)((function(e){return{project:e.project}}),(function(e){return{loadMyProjects:function(){return e(Object(i.m)())},logProjectView:function(t){return e(Object(l.c)(t))}}}))((function(e){var t=e.match,n=e.project,o=e.logProjectView;Object(a.a)("hidechat-container");var s=Object(c.createElement)(u.a,Object(r.a)(Object(r.a)({},e),{},{key:t.params.projectId,project:n,showLti:!1}));return Object(c.useEffect)((function(){o(t.params.projectId)}),[o,t.params.projectId]),Object(d.jsx)("div",{children:s})})))}}]);
//# sourceMappingURL=41.39939167.chunk.js.map