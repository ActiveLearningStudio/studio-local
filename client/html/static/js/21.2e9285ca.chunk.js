/*! For license information please see 21.2e9285ca.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[21],{1001:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n.n(r),a=n(6),i=n(27),s=n(3),o=n(12),u=n(30),l=n(424),d=n(382),j=n(402),m=n(24),b=n(21),v=n(0),f=n(62),h=n(9),p=n.n(h),O=n(8),x=n.n(O),g=n(51),w=n(80),y=n(17),N=n.n(y),k=(n(923),n(2));var S=function(e){var t=e.team,n=t.showCreation,r=t.showInviting,c=t.showAssigning,a=e.editMode;return Object(k.jsxs)("div",{className:"create-team-sidebar",children:[Object(k.jsxs)("div",{className:N()("team-sidebar-btn",{filled:n||r||c,selected:n}),children:[Object(k.jsxs)("div",{className:"btn-box",children:[Object(k.jsx)("div",{className:"number-box",children:Object(k.jsx)("span",{className:"number",children:"1"})}),a?null:Object(k.jsx)("span",{className:"bottom-vertical-line"})]}),a,Object(k.jsxs)("span",{className:a?"editModeName":"name",children:[a?"Edit ":"Create ","Team"]})]}),a?null:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:N()("team-sidebar-btn last",{filled:r||c,selected:n||r}),children:[Object(k.jsxs)("div",{className:"btn-box",children:[Object(k.jsx)("span",{className:"top-vertical-line"}),Object(k.jsx)("div",{className:"number-box",children:Object(k.jsx)("span",{className:"number",children:"2"})}),Object(k.jsx)("span",{className:"bottom-vertical-line"})]}),Object(k.jsx)("span",{className:"name",children:"Invite Members"})]}),Object(k.jsxs)("div",{className:N()("team-sidebar-btn last",{filled:c,selected:!0}),children:[Object(k.jsxs)("div",{className:"btn-box",children:[Object(k.jsx)("span",{className:"top-vertical-line"}),Object(k.jsx)("div",{className:"number-box",children:Object(k.jsx)("span",{className:"number",children:"3"})})]}),Object(k.jsx)("span",{className:"name",children:"Add/Assign Project"})]})]})]})},C=n(1002),T=n(998),I=n(379),A=n(567),z=n(636),M=(n(924),Object(I.e)(80)),E=Object(I.e)(1e3),P=function(e){var t=e.handleSubmit,n=e.editMode;return Object(k.jsx)("div",{className:"team-information",children:Object(k.jsxs)(I.a,{children:[Object(k.jsxs)("div",{className:"title-box",children:[Object(k.jsxs)("h2",{className:"title",children:[n?"Edit ":"Create ","Team"]}),Object(k.jsx)("div",{className:"title-cross"})]}),Object(k.jsxs)("div",{className:"create-team-wrapper",children:[Object(k.jsx)("h2",{className:"describe",children:n?" Editing your team information ":" Start your team by adding a name and description "}),Object(k.jsx)("div",{className:"creation-panel",children:Object(k.jsxs)("form",{className:"create-team-form",onSubmit:t,children:[Object(k.jsxs)("div",{className:"team-info-input",children:[Object(k.jsx)("div",{className:"team-name",children:Object(k.jsx)(C.a,{name:"name",component:A.a,label:"Team Name",type:"text",validate:[I.f,M]})}),Object(k.jsx)("div",{className:"team-description",children:Object(k.jsx)(C.a,{name:"description",component:z.a,label:"Team Description",validate:[I.f,E]})})]}),Object(k.jsx)("button",{type:"submit",className:"create-team-continue-btn",children:n?"Update":"Continue"})]})})]})]})})};P=Object(T.a)({form:"CreateTeamForm",enableReinitialize:!0,onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=r.updateTeam,i=r.nextStep,s=r.editMode,o=r.handleSubmitInEditMode,e.next=4,a(t);case 4:s&&o(),s||i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()})(P);var U=Object(o.b)((function(e){return{initialValues:{name:e.team.selectedTeam&&e.team.selectedTeam.name?e.team.selectedTeam.name:"",description:e.team.selectedTeam&&e.team.selectedTeam.description?e.team.selectedTeam.description:""},team:e.team.selectedTeam}}))(P),F=n(23),B=n(925),L=n.n(B),R=n(930),_=n.n(R),q=n(142);n(940);function K(e){var t=e.isInviting,n=e.users,r=e.handleInvite,c=e.searchedUsers,a=e.searchUsers,l=e.visible,j=e.setShowInvite,m=e.authUser,b=e.isSearching,f=Object(o.c)(),h=Object(s.useState)(""),p=Object(i.a)(h,2),O=p[0],x=p[1],g=Object(s.useState)(""),w=Object(i.a)(g,2),y=w[0],N=w[1],S=Object(s.useState)(!1),C=Object(i.a)(S,2),T=C[0],I=C[1],A=Object(o.d)((function(e){return e.organization})),z=Object(o.d)((function(e){return e.team})).roles,M=Object(s.useState)(0),E=Object(i.a)(M,2),P=E[0],U=E[1],B=Object(s.useState)([]),R=Object(i.a)(B,2),K=R[0],W=R[1],Y=Object(s.useRef)(null),G=Object(s.useRef)(null),J=Object(s.useRef)(null),V=Object(s.useState)([]),Q=Object(i.a)(V,2),X=Q[0],D=Q[1],H=Object(s.useState)(""),Z=Object(i.a)(H,2),$=Z[0],ee=Z[1],te=Object(s.useState)({}),ne=Object(i.a)(te,2),re=ne[0],ce=ne[1],ae=Object(s.useState)("Add Member"),ie=Object(i.a)(ae,2),se=ie[0],oe=ie[1],ue=Object(s.useState)(!1),le=Object(i.a)(ue,2),de=le[0],je=le[1],me=!1,be=L()((function(e){a(e)}),1e3);Object(s.useEffect)((function(){var e;D(z),ee(null===z||void 0===z||null===(e=z[0])||void 0===e?void 0:e.id)}),[z]),Object(s.useEffect)((function(){f(Object(d.a)(A.currentOrganization.id))}),[]);var ve=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!0===me?me=!1:I(null!==e?e:!T)}),[T]),fe=Object(s.useCallback)((function(e){x(e.target.value),be(e.target.value),ve(!0)}),[be,ve]),he=n||[],pe=_()(c.filter((function(e){return-1===[].concat(Object(F.a)(he),Object(F.a)(K)).findIndex((function(t){return e.id===t.id}))&&e.id!==m.id})),["name"]);return Object(s.useEffect)((function(){W([]),x(""),U(0)}),[l]),Object(k.jsxs)("div",{className:"invite-wrapper",ref:G,children:[Object(k.jsx)("button",{type:"button",className:"invite-btn",onClick:function(){return j(!l)},children:"Invite a Team Member"}),l&&Object(k.jsxs)("div",{onFocus:function(){return ve(!1)},className:"invite-dialog",children:[Object(k.jsxs)("div",{className:"popup-header",children:[Object(k.jsxs)("h2",{className:"font-weight-bold",children:[0===P&&"Invite a Team Member",2===P&&"Invite a Team Member with Custom Message",1===P&&"Invite ".concat(K[0].name||K[0].email,"...")]}),Object(k.jsx)("span",{className:"close-circle",onClick:function(){return j(!1)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("h2",{children:[0===P&&"Team Members",1===P&&"Message"]}),0===P&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"email-input",children:[Object(k.jsx)("div",{className:"input-box",onClick:function(){return Y.current.focus()},children:Object(k.jsxs)("div",{className:"input-container",children:[Object(k.jsx)("input",{ref:Y,type:"text",placeholder:"User name or Email",value:O,onChange:fe}),Object(k.jsx)("span",{className:"close-circle",onClick:function(){x(""),be("")},children:b&&Object(k.jsx)(u.a,{icon:"spinner"})})]})}),T&&pe.length>0&&Object(k.jsx)("div",{className:"non-invitee-members",ref:J,children:O&&pe.map((function(e){return Object(k.jsxs)("div",{className:"invite-member-item","data-list":"true",onClick:function(){x(e.email),ce(e),I(!1),me=!0,je(!0)},children:[Object(k.jsx)("div",{className:"invite-member-name-mark",children:Object(k.jsx)("span",{children:"".concat(e.first_name[0]||"").concat(e.last_name[0]||"")})}),Object(k.jsx)("div",{className:"invite-member-info",children:Object(k.jsx)("h2",{className:"invite-member-name",children:"".concat(e.name," (").concat(e.email,")")})})]},e.id)}))})]}),Object(k.jsx)("h2",{children:0===P&&"Select Role"}),Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"input-container",children:Object(k.jsx)("select",{onChange:function(e){return ee(e.target.value)},children:null===X||void 0===X?void 0:X.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.name})}))})})}),Object(k.jsx)("button",{disabled:!de,onClick:function(){var e={organization_id:A.currentOrganization.id,user_id:re.id};oe("Adding ..."),q.a.checkUserBeforeAdd(A.currentOrganization.id,e).then((function(e){var t;oe("Add Member"),e.invited&&(t=Object(v.a)(Object(v.a)({},re),{},{role_id:$}),-1===K.findIndex((function(e){return e.id===t.id}))&&(x(""),I(!1),W(_()([].concat(Object(F.a)(K),[t]),["name","email"]))),je(!1))})).catch((function(e){oe("Add Member"),je(!1)}))},children:se}),Object(k.jsx)("div",{className:"email-input",style:{border:"none"},children:Object(k.jsx)("div",{className:"input-box",children:K&&K.map((function(e){return Object(k.jsxs)("span",{className:"user-chip",children:[e.name||e.email,Object(k.jsx)("span",{className:"close-circle",onClick:function(){return function(e){W(K.filter((function(t){return t.id!==e.id})))}(e)}})]},e.id)}))})})]}),Object(k.jsxs)("h2",{style:{fontSize:"13px",marginBottom:2===P?"2em":"1em"},children:[0===P&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"font-weight-bold",children:"Tip: "}),"You can invite as many users you want, using multiple email address or user name"]}),2===P&&'You can add a note to personalize your invitation to "'.concat(K[0].name||K[0].email,'", ...')]}),0===P&&Object(k.jsx)("button",{type:"button",disabled:0===K.length||t,onClick:function(){return U(2)},children:"Invite"}),2===P&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{type:"button",disabled:0===K.length||t,onClick:function(){return U(1)},className:"add-note",children:"Add Note"}),Object(k.jsxs)("button",{type:"button",disabled:0===K.length||t,onClick:function(){return r(K,y)},children:["Send Invite",t&&Object(k.jsx)(u.a,{icon:"spinner"})]})]}),1===P&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"email-input",children:Object(k.jsx)("textarea",{className:"add-note-box",placeholder:"e.g. leo",onChange:function(e){return N(e.target.value)}})}),Object(k.jsxs)("button",{type:"button",disabled:0===K.length||t,onClick:function(){return r(K,y)},children:["Send",t&&Object(k.jsx)(u.a,{icon:"spinner"})]})]})]})]})]})}K.defaultProps={users:[]};var W=Object(o.b)((function(e){return{isSearching:e.auth.isSearching,searchedUsers:e.auth.searchedUsers,isInviting:e.team.isInviting,user:e.auth.user}}),(function(e){return{searchUsers:function(t){return e(Object(g.m)(t))},inviteMembers:function(t,n,r){return e(Object(d.i)(t,n,r))},removeMember:function(t,n){return e(Object(d.o)(t,n))}}}))(K),Y=n(420),G=n.n(Y);function J(e){var t=e.invited,n=e.isInviting,r=e.selected,c=e.user,a=e.selectMember,o=e.inviteUser,l=Object(s.useState)(""),d=Object(i.a)(l,2),j=d[0],m=d[1],b=Object(s.useCallback)((function(e){m(e.target.value)}),[]),f=Object(s.useCallback)((function(){o(Object(v.a)(Object(v.a)({},c),{},{email:j}))}),[j,c,o]),h=Object(s.useCallback)((function(){r?(a(null),m("")):a(c.id)}),[c,r,a]),p=Object(s.useCallback)((function(e){var t=e.currentTarget;setTimeout((function(){t.contains(document.activeElement)||(a(null),m(""))}),0)}),[a]);return Object(k.jsxs)("div",{className:"member-item",children:[Object(k.jsx)("div",{className:"member-name-mark",children:Object(k.jsx)("span",{children:"".concat(c.first_name.charAt(0)).concat(c.last_name.charAt(0))})}),Object(k.jsxs)("div",{className:"member-info",children:[Object(k.jsx)("h2",{className:"member-name",children:"".concat(c.name||c.email)}),Object(k.jsx)("div",{className:"member-data",children:Object(k.jsx)("h2",{children:"Assigned to ".concat(c.projects?c.projects.length:0," Projects")})})]}),Object(k.jsxs)("div",{className:"button-container",children:[Object(k.jsxs)("button",{type:"button",className:N()("invite-btn",{checked:t}),disabled:t,onClick:h,children:[t&&Object(k.jsx)(u.a,{icon:"check",className:"mr-2"}),Object(k.jsx)("span",{children:t?"Invited":"Invite"})]}),r&&Object(k.jsxs)("div",{className:"invite-dialog",onBlur:p,children:[Object(k.jsx)("h2",{className:"font-weight-bold",children:"Invite Team Member"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Enter Email"}),Object(k.jsx)("div",{className:"email-input",children:Object(k.jsx)("input",{type:"text",placeholder:"e.g. abby@curriki.org",value:j,onChange:b})}),Object(k.jsxs)("button",{type:"button",disabled:!j||!G.a.isEmail(j)||n,onClick:f,children:["Invite",n&&Object(k.jsx)(u.a,{icon:"spinner"})]})]})]})]})]})}J.defaultProps={selected:!1,selectMember:function(){},inviteUser:function(){}};var V=J;n(941);var Q=Object(o.b)((function(e){return{user:e.auth.user}}),(function(e){return{setInvitedMembers:function(t){return e(Object(d.k)(t))}}}))((function(e){var t=e.isInviting,n=e.nextStep,r=e.user,c=e.selectedMembers,a=e.setSelectedMembers,o=Object(s.useState)(!1),u=Object(i.a)(o,2),l=u[0],d=u[1],j=Object(s.useState)(null),m=Object(i.a)(j,2),b=m[0],f=m[1],h=Object(s.useCallback)((function(e,t){a([].concat(Object(F.a)(c),Object(F.a)(e.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{note:t})}))))),d(!1)}),[c]);return Object(k.jsx)("div",{className:"team-information",children:Object(k.jsxs)(I.a,{children:[Object(k.jsxs)("div",{className:"title-box",children:[Object(k.jsx)("h2",{className:"title",children:"Invite Team Members"}),Object(k.jsx)("div",{className:"title-cross"})]}),"Invite at least 1 or more member to your team",Object(k.jsxs)("div",{className:"invite-member-wrapper",children:[Object(k.jsx)("div",{className:"search-box",children:Object(k.jsx)(W,{handleInvite:h,visible:l,setShowInvite:d,authUser:Object(v.a)(Object(v.a)({},r),{},{role:"owner"}),users:c})}),Object(k.jsx)("div",{className:"member-list",children:Object(k.jsx)("div",{className:"member-list-content",children:c.map((function(e){return Object(k.jsx)(V,{invited:!0,isInviting:t,selected:!1,user:e,selectMember:a},e.id)}))})}),Object(k.jsx)("div",{style:{color:"red"},children:b}),Object(k.jsx)("button",{type:"button",className:"create-team-continue-btn",onClick:function(){c.length>0?n():f("Invite at least 1 member")},children:"Continue"})]})]})})})),X=n(651),D=(n(942),["id"]);var H=Object(m.h)(Object(o.b)((function(e){return{team:e.team,isSearching:e.auth.isSearching,searchedUsers:e.auth.searchedUsers,projects:e.project.projects,setInvitedMembers:p.a.func.isRequired,reduxform:e.form}}),(function(e){return{searchUsers:function(t){return e(Object(g.m)(t))},loadProjects:function(){return e(Object(w.m)())},resetSelectedTeam:function(){return e(Object(d.r)())},updateSelectedTeam:function(t){return e(Object(d.w)(t))},showCreate:function(){return e(Object(d.u)())},showInvite:function(){return e(Object(d.v)())},inviteUser:function(t){return e(Object(d.j)(t))},showAssign:function(){return e(Object(d.t)())},createTeam:function(t){return e(Object(d.e)(t))},updateTeam:function(t,n){return e(Object(d.x)(t,n))},setInvitedMembers:function(t){return e(Object(d.k)(t))}}}))((function(e){var t,n,r,c,a=e.history,d=e.team,j=e.editMode,m=e.selectedTeam,b=e.isSearching,h=e.searchedUsers,p=e.projects,O=e.searchUsers,g=e.loadProjects,w=e.resetSelectedTeam,y=e.updateSelectedTeam,N=e.showCreate,C=e.showInvite,T=e.inviteUser,I=e.showAssign,A=e.createTeam,z=e.updateTeam,M=e.setInvitedMembers,E=e.reduxform,P=d.showCreation,F=d.showInviting,B=d.showAssigning,L=Object(s.useState)([]),R=Object(i.a)(L,2),_=R[0],q=R[1],K=Object(s.useState)([]),W=Object(i.a)(K,2),Y=W[0],G=W[1],J=Object(s.useState)(""),V=Object(i.a)(J,2),H=V[0],Z=V[1],$=Object(o.d)((function(e){return e.organization})),ee=$.activeOrganization,te=$.permission;Object(s.useEffect)((function(){}),[d.selectedTeam]),Object(s.useEffect)((function(){ee&&g(),w(),N(),j&&y({name:m.name,description:m.description})}),[g,w,N,j,m,y,ee]);var ne=Object(k.jsxs)("button",{type:"button",className:"back-button",disabled:d.isLoading,onClick:function(){F?N():B?C():a.goBack()},children:[Object(k.jsx)(u.a,{icon:"chevron-left",className:"mr-2"}),"Back"]}),re=Object(s.useCallback)((function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;j?z(null===m||void 0===m?void 0:m.id,{organization_id:null===(e=$.activeOrganization)||void 0===e?void 0:e.id,name:E.CreateTeamForm.values.name,description:E.CreateTeamForm.values.description}).then((function(){var e;x.a.fire({icon:"success",title:"Successfully updated."}),a.push("/studio/org/".concat(null===(e=$.currentOrganization)||void 0===e?void 0:e.domain,"/teams/").concat(null===m||void 0===m?void 0:m.id))})).catch((function(){x.a.fire({icon:"error",title:"Error",text:"Update Team failed, kindly try again."})})):(M(_.map((function(e){var t=e.id,n=Object(f.a)(e,D);return Object(v.a)({id:isNaN(t)?0:t},n)}))),A(Object(v.a)(Object(v.a)({organization_id:null===(t=$.activeOrganization)||void 0===t?void 0:t.id},d.selectedTeam),{},{users:_||[],projects:n})).then((function(){var e;x.a.fire({icon:"success",title:"Successfully created."}),a.push("/studio/org/".concat(null===(e=$.currentOrganization)||void 0===e?void 0:e.domain,"/teams"))})))}),[j,m,d.selectedTeam,z,null===(t=$.activeOrganization)||void 0===t?void 0:t.id,null===(n=$.currentOrganization)||void 0===n?void 0:n.domain,a,M,_,A]);return Object(k.jsx)("div",{className:"create-team",children:(null===te||void 0===te||null===(r=te.Team)||void 0===r?void 0:r.includes("team:create"))&&!j||(null===te||void 0===te||null===(c=te.Team)||void 0===c?void 0:c.includes("team:edit"))&&j?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:[!j&&ne,Object(k.jsx)(S,{team:d,editMode:j})]}),Object(k.jsxs)("div",{className:"create-team-content",children:[P&&Object(k.jsx)(U,{editMode:j,selectedTeam:m,updateTeam:y,nextStep:C,handleSubmitInEditMode:re}),F&&!j&&Object(k.jsx)(Q,{team:d.selectedTeam,editMode:j,isSearching:b,searchedUsers:h,isInviting:d.isInviting,searchUsers:O,inviteUser:T,selectedMembers:_,setSelectedMembers:q,nextStep:I}),B&&!j&&Object(k.jsx)(X.a,{isSaving:d.isLoading,editMode:j,projects:p,selectedProjects:Y,handleSubmit:re,search:H,setSearch:Z,setSelectedProjects:G})]})]}):Object(k.jsxs)(l.a,{variant:"danger",children:[" ","You are not authorized to","".concat(j?" Edit ":" Create "," "),"teams."]})})})));n(943);var Z=function(e){var t,n,r,c,a=e.team,i=a.id,s=a.name,l=a.description,j=a.users,m=a.projects,v=Object(o.c)(),f=Object(o.d)((function(e){return e.organization})),h=f.permission;return Object(k.jsxs)("div",{className:"team-card-content",children:[Object(k.jsxs)("div",{className:"team-title",children:[Object(k.jsx)(b.b,{onClick:function(){v(Object(d.g)(f.currentOrganization.id,i))},to:"/studio/org/".concat(null===(t=f.currentOrganization)||void 0===t?void 0:t.domain,"/teams/").concat(i,"/projects"),className:"title m-0",children:s}),(null===h||void 0===h||null===(n=h.Team)||void 0===n?void 0:n.includes("team:edit"))&&Object(k.jsxs)(b.b,{onClick:function(){v(Object(d.g)(f.currentOrganization.id,i))},className:"edit-button",to:"/studio/org/".concat(null===(r=f.currentOrganization)||void 0===r?void 0:r.domain,"/teams/").concat(i,"/edit"),children:[Object(k.jsx)(u.a,{icon:"pen",className:"mr-2"}),"Edit"]}),Object(k.jsx)("h2",{className:"describe",children:l.length>50?"".concat(null===l||void 0===l?void 0:l.slice(0,50),"..."):l})]}),Object(k.jsxs)("div",{className:"team-member-content mid-border",children:[Object(k.jsxs)("div",{className:"sub-title",children:[Object(k.jsx)("span",{children:"Team Members"}),Object(k.jsx)("span",{children:"(".concat(null===j||void 0===j?void 0:j.length,")")})]}),Object(k.jsx)("div",{className:"member-mark-container",children:j.map((function(e,t){return Object(k.jsx)("div",{className:"member-name-mark".concat(t>0?" over":""),children:Object(k.jsx)("span",{children:"".concat(e.first_name.charAt(0)).concat(e.last_name.charAt(0))})},e.id)}))})]}),Object(k.jsxs)("div",{className:"sub-title",children:[Object(k.jsx)("span",{children:"Projects for the Team"}),Object(k.jsx)("span",{children:"(".concat(null===m||void 0===m?void 0:m.length,")")})]}),(null===h||void 0===h||null===(c=h.Team)||void 0===c?void 0:c.includes("team:delete"))&&Object(k.jsx)("div",{children:Object(k.jsx)("button",{type:"button",onClick:function(){x.a.fire({title:"Are you sure you want to delete this team?",html:"<strong>The projects associated with this team will no longer available in Team projects. If you want make a copy for that project then visit Team project page first to make a clone</strong>",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then((function(e){e.isConfirmed&&v(Object(d.f)(i))}))},className:"back-button",style:{textAlign:"center"},children:"Delete Team"})})]})};function $(e){var t,n,r,l=e.teamId,j=e.authUser,b=e.removingUserId,v=e.selected,f=e.user,h=f.id,p=f.first_name,O=f.last_name,g=f.invited_email,w=f.email,y=f.projects,S=void 0===y?[]:y,C=f.role,T=e.selectMe,I=e.deselectMe,A=e.removeMember,z=e.teamPermission,M=Object(s.useState)(null===C||void 0===C?void 0:C.id),E=Object(i.a)(M,2),P=E[0],U=E[1],F=Object(o.d)((function(e){return e.team})),B=F.roles,L=F.teams,R=Object(o.d)((function(e){return e.organization})).activeOrganization,_=Object(o.d)((function(e){return e.auth})),q=Object(m.g)(),K=Object(o.c)(),W=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(t),e.next=3,K(Object(d.d)(l,{user_id:h,role_id:t}));case 3:return e.next=5,K(Object(d.m)(l));case 5:return e.next=7,K(Object(d.g)(null===R||void 0===R?void 0:R.id,l));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=Object(s.useCallback)((function(){var e,t,n=null===(e=L.filter((function(e){return e.id===l}))[0])||void 0===e||null===(t=e.users)||void 0===t?void 0:t.filter((function(e){var t;return 1===(null===e||void 0===e||null===(t=e.role)||void 0===t?void 0:t.id)}));(null===n||void 0===n?void 0:n.length)<=1&&1===C.id?x.a.fire({icon:"warning",text:"There should be atleast one admin"}):A(l,h,g).then((function(){h===_.user.id&&(q.push("/org/".concat(R.domain,"/teams")),K(Object(d.n)()))})).catch((function(){x.a.fire({icon:"error",title:"Error",text:"Failed to remove user."})}))}),[A,l,h,g]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"col-md-12 member-item",children:[Object(k.jsx)("div",{className:"member-name-mark",children:Object(k.jsx)("span",{children:"".concat(p?p[0]:"").concat(O?O[0]:"")})}),Object(k.jsxs)("div",{className:"member-info",children:[Object(k.jsx)("h2",{className:"member-name",children:"".concat(p||""," ").concat(O||"")}),Object(k.jsx)("div",{children:w}),Object(k.jsxs)("div",{className:"member-data d-flex align-items-center",children:[Object(k.jsx)("h2",{className:"m-0",children:(null===C||void 0===C?void 0:C.name)?Object(k.jsxs)(k.Fragment,{children:["admin"===C.name&&Object(k.jsx)("div",{style:{color:"green"},children:" Admin "}),"contributor"===C.name&&Object(k.jsx)("div",{style:{color:"blue"},children:" Contributor "}),"member"===C.name&&Object(k.jsx)("div",{style:{color:"red"},children:" Member "})]}):null}),S.length>0&&Object(k.jsx)("div",{className:"collapse-btn",onClick:v?I:T,children:Object(k.jsx)("button",{type:"button",children:Object(k.jsx)(u.a,{icon:v?"caret-up":"caret-down",className:"mr-2"})})})]})]}),Object(k.jsxs)("div",{className:"button-container",children:[g&&Object(k.jsxs)("button",{type:"button",className:N()("invite-btn",{checked:!0}),disabled:!0,children:[Object(k.jsx)(u.a,{icon:"check",className:"mr-2"}),Object(k.jsx)("span",{children:"Invited"})]}),((null===z||void 0===z||null===(t=z.Team)||void 0===t?void 0:t.includes("team:remove-team-user"))||(null===z||void 0===z||null===(n=z.Team)||void 0===n?void 0:n.includes("team:add-team-user")))&&_.user.id!==h&&Object(k.jsx)("div",{className:"role-container",children:Object(k.jsx)("select",{value:P,onChange:function(e){return W(e.target.value)},children:null===B||void 0===B?void 0:B.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),(null===z||void 0===z||null===(r=z.Team)||void 0===r?void 0:r.includes("team:remove-team-user"))&&Object(k.jsxs)("button",{type:"button",className:"eliminate-btn",disabled:b,onClick:Y,children:[Object(k.jsx)(u.a,{icon:"plus",className:"mr-2"}),Object(k.jsx)("span",{children:(null===j||void 0===j?void 0:j.id)===h?"Leave":"Remove"}),b===h&&Object(k.jsx)(u.a,{icon:"spinner",className:"spinner"})]})]})]}),v&&Object(k.jsxs)("div",{className:"member-project-dialog",onBlur:I,children:[Object(k.jsx)("div",{onClick:I,children:Object(k.jsx)(u.a,{icon:"plus",className:"mr-2"})}),S.map((function(e,t){return Object(k.jsx)("h2",{className:"".concat(t>0?"border-top":""),children:e.name},e.id)}))]})]})}$.defaultProps={selected:!1,removingUserId:null};var ee=$;n(944);function te(e){var t,n,r=e.removingUserId,c=e.user,a=e.team,l=a.id,j=a.users,m=a.name,v=a.description,f=a.invited_emails,h=e.inviteMembers,p=e.removeMember,O=Object(o.d)((function(e){return e.organization})),g=Object(o.d)((function(e){return e.team})),w=Object(o.c)(),y=g.teamPermission,N=O.permission,S=Object(s.useState)(""),C=Object(i.a)(S,2),T=C[0],I=C[1],A=Object(s.useCallback)((function(e){I(e.target.value)}),[]),z=Object(s.useState)(!1),M=Object(i.a)(z,2),E=M[0],P=M[1],U=Object(s.useState)(null),B=Object(i.a)(U,2),L=B[0],R=B[1];Object(s.useEffect)((function(){var e,t;0===Object.keys(y).length&&(null===O||void 0===O||null===(e=O.currentOrganization)||void 0===e?void 0:e.id)&&l&&w(Object(d.g)(null===O||void 0===O||null===(t=O.currentOrganization)||void 0===t?void 0:t.id,l))}),[g]);var _=Object(s.useCallback)((function(e,t){h(l,e,t).then((function(){x.a.fire({icon:"success",title:"Successfully invited."}),P(!1),I("")})).catch((function(){x.a.fire({icon:"error",title:"Error",text:"Failed to invite user."})}))}),[h,l]),q=[].concat(Object(F.a)(j.filter((function(e){return"".concat(e.first_name," ").concat(e.last_name).toLowerCase().indexOf(T.toLowerCase())>-1}))),Object(F.a)(f.filter((function(e){return e.invited_email.toLowerCase().indexOf(T.toLowerCase())>-1})))),K=j.find((function(e){return e.id===(c||{}).id}));return Object(k.jsxs)("div",{className:"row member-manage",children:[Object(k.jsx)("div",{className:"team-information",children:Object(k.jsxs)("div",{className:"member-management-wrapper",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsxs)("div",{className:"search-box",children:[Object(k.jsx)("input",{type:"text",placeholder:"Filter by name",value:T,onChange:A}),(null===y||void 0===y||null===(t=y.Team)||void 0===t?void 0:t.includes("team:add-team-user"))&&c&&Object(k.jsx)(W,{users:j,visible:E,authUser:K,setShowInvite:P,handleInvite:_})]})})}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsx)("div",{className:"member-list",children:c&&q.map((function(e){return Object(k.jsx)("div",{children:Object(k.jsx)(ee,{permission:N,teamId:l,authUser:K,removingUserId:r,selected:L===e.id,user:e,selectMe:function(){return R(e.id)},deselectMe:function(){return R(null)},removeMember:p,teamPermission:y||{}})},e.id)}))})})})]})}),Object(k.jsxs)("div",{className:"",children:[Object(k.jsxs)("div",{className:"team-description",children:[Object(k.jsx)("h2",{className:"title",children:"About the ".concat(m)}),Object(k.jsx)("h2",{className:"description",children:v})]}),Object(k.jsx)(b.b,{to:"/studio/org/".concat(null===(n=O.currentOrganization)||void 0===n?void 0:n.domain,"/teams/").concat(l,"/projects"),children:Object(k.jsxs)("div",{className:"btn-left-page",children:[Object(k.jsx)(u.a,{icon:"project-diagram",className:"mr-2"}),"Projects"]})})]})]})}te.defaultProps={removingUserId:null};var ne=Object(o.b)((function(e){return{isInviting:e.team.isInviting,removingUserId:e.team.removingUserId,user:e.auth.user,searchedUsers:e.auth.searchedUsers}}),(function(e){return{searchUsers:function(t){return e(Object(g.m)(t))},inviteMembers:function(t,n,r){return e(Object(d.i)(t,n,r))},removeMember:function(t,n,r){return e(Object(d.o)(t,n,r))}}}))(te),re=n(945),ce=(n(947),["One","Two","Three","Four","Five"]);var ae=function(){return Object(k.jsx)("div",{className:"row channel-manage",children:Object(k.jsxs)("div",{className:"team-information",children:[Object(k.jsx)("div",{className:"channel-side-bar",children:ce.map((function(e,t){return Object(k.jsx)("a",{className:t>0?"border-top":"",children:Object(k.jsx)("h2",{children:"#Channel-".concat(e)})},e)}))}),Object(k.jsx)("div",{className:"channel-content",children:Object(k.jsx)("span",{children:"3rd Party Chat Tool Here"})})]})})},ie=(n(948),{creation:"teams/create team",editMode:"edit team",projectShow:"projects",channelShow:"projects",teamShow:"teams"});function se(e){var t,n,r,v,f,h,p,O,x=e.location,g=e.teams,w=e.overview,y=e.creation,N=e.teamShow,S=e.editMode,C=e.projectShow,T=e.channelShow,I=e.loadTeams,A=e.loadSubOrgTeams,z=Object(o.d)((function(e){return e.organization})),M=Object(o.d)((function(e){return e.team})),E=M.teamPermission,P=M.selectedForClone,U=z.activeOrganization,F=z.currentOrganization,B=z.permission,L=Object(s.useState)(!1),R=Object(i.a)(L,2),_=R[0],q=R[1],K=Object(s.useState)([]),W=Object(i.a)(K,2),Y=W[0],G=W[1],J=Object(m.g)(),V=Object(o.c)();Object(s.useEffect)((function(){Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U||!F){e.next=11;break}if((null===U||void 0===U?void 0:U.id)===(null===F||void 0===F?void 0:F.id)){e.next=7;break}return e.next=4,A();case 4:q(!0),e.next=11;break;case 7:if((null===U||void 0===U?void 0:U.id)!==(null===F||void 0===F?void 0:F.id)||!(null===B||void 0===B?void 0:B.Team)){e.next=11;break}return e.next=10,I();case 10:q(!0);case 11:case"end":return e.stop()}}),e)})))()}),[I,A,U,F,null===B||void 0===B?void 0:B.Team,q]);var Q=y?"creation":S?"editMode":N?"teamShow":C?"projectShow":w?"teamShow":"channelShow",X=parseInt(x.pathname.split("teams/")[1],10),D=g.find((function(e){return e.id===X})),$=Object(o.d)((function(e){return e.notification})).notification;if(Object(s.useEffect)((function(){var e;-1!==(null===$||void 0===$||null===(e=$.today[0])||void 0===e?void 0:e.data.message.indexOf(P))&&V(Object(d.n)())}),[null===$||void 0===$?void 0:$.today]),Object(s.useEffect)((function(){var e=ie[Q];N&&D&&(e+="/".concat(D.name," Members")),G(e.split("/"))}),[D,Q,N,g]),Object(s.useEffect)((function(){var e,t;0===Object.keys(E).length&&(null===z||void 0===z||null===(e=z.currentOrganization)||void 0===e?void 0:e.id)&&(null===D||void 0===D?void 0:D.id)&&V(Object(d.g)(null===z||void 0===z||null===(t=z.currentOrganization)||void 0===t?void 0:t.id,null===D||void 0===D?void 0:D.id))}),[D,E]),x.pathname.includes("teams/")&&!D&&!y)return Object(k.jsx)(k.Fragment,{});var ee={creation:"Create Team",editMode:"Edit Team",teamShow:"".concat(D?D.name:"Team"," Members"),projectShow:"".concat(D?D.name:"Team"," Projects"),channelShow:"Channels"};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"side-wrapper-team",children:Object(k.jsxs)("div",{className:"bread-crumb",children:[Object(k.jsx)("div",{className:"main-flex-top",children:Y.map((function(e,t,n){return Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:t+1<n.length?"":"child",children:e}),t+1<n.length&&Object(k.jsx)(u.a,{icon:"angle-right"})]},e)}))}),!w&&Object(k.jsxs)(b.b,{className:"back-button-main-page",onClick:function(){J.goBack()},children:[Object(k.jsx)(u.a,{icon:"chevron-left"}),"Back"]})]})}),Object(k.jsx)("div",{className:"teams-page",children:Object(k.jsx)("div",{className:"content-wrapper",children:Object(k.jsxs)("div",{className:"content",children:[Object(k.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[Object(k.jsx)("h1",{className:"title".concat(C?" project-title":"").concat(T?" channel-title":""),children:w?"Teams":ee[Q]||"Teams"}),Object(k.jsxs)("div",{className:"flex-button-top",children:[(null===E||void 0===E||null===(t=E.Team)||void 0===t?void 0:t.includes("team:add-project"))&&C&&Object(k.jsx)(b.b,{to:"/studio/org/".concat(null===(n=z.currentOrganization)||void 0===n?void 0:n.domain,"/teams/").concat(D.id,"/add-projects"),children:Object(k.jsxs)("div",{className:"btn-top-page",children:[Object(k.jsx)(u.a,{icon:"plus",className:"mr-2"}),"Add projects"]})}),((null===E||void 0===E||null===(r=E.Team)||void 0===r?void 0:r.includes("team:add-team-user"))||(null===E||void 0===E||null===(v=E.Team)||void 0===v?void 0:v.includes("team:remove-team-user")))&&C&&Object(k.jsx)(b.b,{to:"/studio/org/".concat(null===(f=z.currentOrganization)||void 0===f?void 0:f.domain,"/teams/").concat(D.id),children:Object(k.jsx)("div",{className:"btn-top-page",children:"Add/Remove Members"})}),(null===B||void 0===B||null===(h=B.Team)||void 0===h?void 0:h.includes("team:create"))&&w&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(b.b,{to:"/studio/org/".concat(null===z||void 0===z||null===(p=z.currentOrganization)||void 0===p?void 0:p.domain,"/teams/create-team"),children:Object(k.jsxs)("div",{className:"btn-top-page",children:[Object(k.jsx)(u.a,{icon:"plus",className:"mr-2"}),"Create a Team"]})})}),C&&Object(k.jsx)(k.Fragment,{})]})]}),Object(k.jsxs)(k.Fragment,{children:[w&&Object(k.jsx)("div",{className:"row overview",children:(null===B||void 0===B||null===(O=B.Team)||void 0===O?void 0:O.includes("team:view"))?Object(k.jsx)(k.Fragment,{children:g.length>0?g.map((function(e){return Object(k.jsx)(Z,{team:e},e.id)})):_?Object(k.jsx)(l.a,{className:"alert-space",variant:"warning",children:"No team available. "}):Object(k.jsx)(l.a,{className:"alert-space",variant:"primary",children:"Loading..."})}):Object(k.jsx)(l.a,{className:"alert-space",variant:"danger",children:"You are not authorized to view teams."})}),(y||S)&&Object(k.jsx)("div",{className:"row sub-content",children:Object(k.jsx)(H,{editMode:S,selectedTeam:D})}),N&&D&&Object(k.jsx)(ne,{team:D}),C&&D&&Object(k.jsx)(re.a,{team:D}),T&&D&&Object(k.jsx)(ae,{})]})]})})}),Object(k.jsx)(j.a,{})]})}se.defaultProps={overview:!1,creation:!1,editMode:!1,teamShow:!1,projectShow:!1,channelShow:!1};t.default=Object(o.b)((function(e){return{teams:e.team.teams}}),(function(e){return{loadTeams:function(){return e(Object(d.n)())},loadSubOrgTeams:function(){return e(Object(d.l)())}}}))(se)},379:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b}));var r,c,a=n(385),i=n(387),s=n(386);function o(e){if(e.errors&&!Array.isArray(e.errors)&&"object"===typeof e.errors){var t=[];return Object.keys(e.errors).forEach((function(n){Array.isArray(e.errors[n])&&(t=t.concat(e.errors[n]))})),{errors:t}}return e}var u=function(e){return e&&e.trim()?void 0:"* Required"},l=function(e){return function(t){return t&&t.length>e?"* Must be ".concat(e," characters or less"):void 0}},d=Object(i.b)(r||(r=Object(a.a)(["",""])),s.fadeIn),j=i.a.div(c||(c=Object(a.a)(["\n  animation: 0.8s ",";\n"])),d),m=function(e){return!new RegExp("[^0-9a-zA-Z@ ._-]").test(e)},b=function(e){return!new RegExp("[^a-zA-Z]").test(e)}},382:function(e,t,n){"use strict";n.d(t,"r",(function(){return d})),n.d(t,"w",(function(){return j})),n.d(t,"u",(function(){return m})),n.d(t,"v",(function(){return b})),n.d(t,"t",(function(){return v})),n.d(t,"n",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"m",(function(){return O})),n.d(t,"x",(function(){return x})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return y})),n.d(t,"i",(function(){return N})),n.d(t,"o",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"q",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"p",(function(){return I})),n.d(t,"a",(function(){return A})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return M})),n.d(t,"d",(function(){return E})),n.d(t,"s",(function(){return P}));var r=n(4),c=n.n(r),a=n(6),i=n(142),s=n(8),o=n.n(s),u=n(1),l=n(15),d=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:u.Zd});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:u.zf,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:u.Le});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:u.Oe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:u.Ge});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.getState(),r=n.organization.activeOrganization,e.prev=2,t({type:u.ud}),e.next=6,i.a.getAll(null===r||void 0===r?void 0:r.id);case 6:a=e.sent,s=a.teams,t({type:u.hd,payload:{teams:s}}),t({type:u.vd}),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(2),t({type:u.vd}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.getState(),r=n.organization.activeOrganization,e.prev=2,t({type:u.ud}),e.next=6,i.a.getAllSubOrganizationTeams(null===r||void 0===r?void 0:r.id);case 6:a=e.sent,s=a.teams,t({type:u.hd,payload:{teams:s}}),t({type:u.vd}),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(2),t({type:u.vd}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.getState(),a=r.organization.activeOrganization,t.prev=2,n({type:u.eb}),t.next=6,i.a.create(e,null===a||void 0===a?void 0:a.id);case 6:return s=t.sent,o=s.team,n({type:u.fb,payload:{team:o}}),t.abrupt("return",o);case 12:throw t.prev=12,t.t0=t.catch(2),n({type:u.db}),t.t0;case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.getState(),a=r.organization.activeOrganization,t.prev=2,n({type:u.jd}),t.next=6,i.a.get(e,null===a||void 0===a?void 0:a.id);case 6:s=t.sent,o=s.team,n({type:u.kd,payload:{team:o}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),n({type:u.id});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a,s,o,d;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=l.a.getState(),s=a.organization.activeOrganization,n.prev=2,r({type:u.Bf}),n.next=6,i.a.update(e,t,null===s||void 0===s?void 0:s.id);case 6:o=n.sent,d=o.team,r({type:u.Cf,payload:{team:d}}),n.next=15;break;case 11:throw n.prev=11,n.t0=n.catch(2),r({type:u.Af}),n.t0;case 15:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.getState(),a=r.organization.activeOrganization,t.prev=2,n({type:u.yb}),t.next=6,i.a.remove(e,null===a||void 0===a?void 0:a.id);case 6:n({type:u.zb,payload:{teamId:e}}),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(2),n({type:u.xb}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:u.Dc}),t.next=4,i.a.inviteConfirm(e);case 4:return r=t.sent,a=r.invited,n(a?{type:u.Ec,payload:{users:[e]}}:{type:u.Cc}),t.abrupt("return",a);case 10:throw t.prev=10,t.t0=t.catch(0),n({type:u.Cc}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:u.Ec,payload:{users:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function r(a){var s,o;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=l.a.getState(),o=s.organization.activeOrganization,r.prev=2,a({type:u.Ac}),r.next=6,i.a.inviteMembers(e,t,n,null===o||void 0===o?void 0:o.id);case 6:a({type:u.Bc}),a(O(e)),r.next=14;break;case 10:throw r.prev=10,r.t0=r.catch(2),a({type:u.zc}),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e){return r.apply(this,arguments)}}()},k=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:u.Id,payload:{userId:t}}),r.next=4,i.a.removeMember(e,t,n);case 4:a({type:u.Jd}),a(O(e)),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(0),a({type:u.Ed}),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:u.w}),n.next=4,i.a.addProjects(e,t);case 4:return a=n.sent,r({type:u.x}),r(O(e)),n.abrupt("return",a);case 10:throw n.prev=10,n.t0=n.catch(0),r({type:u.v}),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:u.Ld}),n.next=4,i.a.removeProject(e,t);case 4:r({type:u.Md}),r(O(e)),n.next=12;break;case 8:throw n.prev=8,n.t0=n.catch(0),r({type:u.Kd}),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},T=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:u.o}),r.next=4,i.a.addMembersToProject(e,t,n);case 4:a({type:u.p}),a(O(e)),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(0),a({type:u.n}),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},I=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:u.Gd}),r.next=4,i.a.removeMemberFromProject(e,t,n);case 4:a({type:u.Hd}),a(O(e)),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(0),a({type:u.Fd}),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.teamRoleType(e);case 2:r=t.sent,n({type:u.y,payload:null===r||void 0===r?void 0:r.teamRoleTypes});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.teamPermisison(e,t);case 2:a=n.sent,r({type:u.u,payload:null===a||void 0===a?void 0:a.teamPermissions});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},M=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a,s,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=l.a.getState(),s=a.organization.activeOrganization,n.next=4,i.a.getTeamProject(null===s||void 0===s?void 0:s.id,e,t);case 4:return o=n.sent,r({type:u.ec,payload:o.data}),n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=l.a.getState(),s=a.organization.activeOrganization,n.next=4,i.a.changeUserRole(null===s||void 0===s?void 0:s.id,e,t);case 4:o.a.fire({icon:"success",title:"Permission Updated"}),r({type:u.F});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},P=function(e){return function(t){t({type:u.zd,payload:e})}}},383:function(e,t,n){"use strict";var r=n(7),c=n(3),a=n.n(c),i=n(17),s=n.n(i);t.a=function(e){return a.a.forwardRef((function(t,n){return a.a.createElement("div",Object(r.a)({},t,{ref:n,className:s()(t.className,e)}))}))}},388:function(e,t,n){"use strict";var r=n(7),c=n(10),a=n(9),i=n.n(a),s=n(3),o=n.n(s),u=n(17),l=n.n(u),d=["label","onClick","className"],j={label:i.a.string.isRequired,onClick:i.a.func},m=o.a.forwardRef((function(e,t){var n=e.label,a=e.onClick,i=e.className,s=Object(c.a)(e,d);return o.a.createElement("button",Object(r.a)({ref:t,type:"button",className:l()("close",i),onClick:a},s),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"),o.a.createElement("span",{className:"sr-only"},n))}));m.displayName="CloseButton",m.propTypes=j,m.defaultProps={label:"Close"},t.a=m},392:function(e,t,n){"use strict";n.d(t,"h",(function(){return N})),n.d(t,"b",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return A})),n.d(t,"c",(function(){return z})),n.d(t,"i",(function(){return M})),n.d(t,"d",(function(){return E})),n.d(t,"l",(function(){return P})),n.d(t,"e",(function(){return U})),n.d(t,"a",(function(){return F}));var r=n(0),c=n(4),a=n.n(c),i=n(6),s=n(8),o=n.n(s),u=n(59),l=n(44),d=n.n(l),j=n(25),m=n(5),b=j.a.apiVersion,v="https://classroom.googleapis.com/v1",f=function(e){return d()({method:"get",url:"".concat(v,"/userProfiles/me"),headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e}))},h=function(e){return d()({method:"get",url:"".concat(v,"/courses"),params:{courseStates:"ACTIVE"},headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return m.a.get("/".concat(b,"/google-classroom/activities/").concat(e,"/h5p-resource-settings"),{},{gcuid:t,submissionid:n}).then((function(e){return e.data})).catch((function(e){Promise.reject(e.response.data),o.a.fire({title:"Error",icon:"error",html:e.message||"Something went wrong! We are unable to load activity."})}))},O=function(e,t,n){return m.a.post("/".concat(b,"/google-classroom/classwork/").concat(e,"/submission"),{course_id:t,access_token:n}).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},x=function(e,t,n){return m.a.post("/".concat(b,"/google-classroom/turnin/").concat(e),{course_id:t,access_token:n}).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},g=function(e,t,n,r){return m.a.post("/".concat(b,"/google-classroom/validate-summary-access"),{course_id:t,access_token:e,gc_classwork_id:n,gc_submission_id:r}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},w=function(e,t){return m.a.post("/".concat(b,"/outcome/summary"),{actor:e,activity:t}).then((function(e){return e.data})).catch((function(e){return e&&e.response&&e.response.data&&e.response.data.errors?e.response.data:(console.log("Unexpected error in summary endpoint:"),console.log(e),null)}))},y=n(1),N=function(e){return{type:y.rc,value:e}},k=function(){},S=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!0)),t.prev=1,t.next=4,u.a.googleShareToken(JSON.stringify(e.tokenObj));case 4:return t.next=6,u.a.getCourses();case 6:r=t.sent,n({type:y.z,payload:r.courses}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:y.qc,id:e}},T=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(N("close")),n((r=e,{type:y.pc,id:r}));try{o.a.fire({confirmButtonColor:"#5952c6",icon:"error",text:e.error.replace(/_/g," ")}),n(C(e))}catch(c){console.log(c)}case 3:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.accessToken);case 2:r=t.sent,n({type:y.Ce,studentData:{auth:e,profile:r}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:y.De,newToken:Object(r.a)({},e)});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:r=t.sent,n({type:y.bc,coursesResponse:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var r=Object(i.a)(a.a.mark((function r(c){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p(e,t,n);case 2:i=r.sent,c({type:y.Rb,h5pSettings:i});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},E=function(e,t,n){return function(){var r=Object(i.a)(a.a.mark((function r(c){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(e,t,JSON.stringify(n.tokenObj)).catch((function(e){return e}));case 2:i=r.sent,c({type:y.cc,submission:i});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},P=function(e,t,n){return function(){var r=Object(i.a)(a.a.mark((function r(c){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x(e,t,JSON.stringify(n.tokenObj));case 2:i=r.sent,c({type:y.ef,turnedIn:i});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},U=function(e,t,n,r){return function(){var c=Object(i.a)(a.a.mark((function c(i){var s;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g(JSON.stringify(e.tokenObj),t,n,r);case 2:s=c.sent,i({type:y.dc,summaryAuth:s});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},F=function(e,t){return function(){var n=Object(i.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(e,t);case 2:c=n.sent,r({type:y.Xb,outcomeSummary:c});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},402:function(e,t,n){"use strict";n(3);var r=n(2);t.a=function(){return Object(r.jsxs)("div",{className:"footer-img-section",children:[Object(r.jsxs)("footer",{className:"footer-all",children:[Object(r.jsx)("a",{target:"_blank",href:"https://www.curriki.org/terms-of-service/",rel:"noopener noreferrer",children:"Terms of Service"}),Object(r.jsx)("a",{target:"_blank",href:"https://www.curriki.org/privacy-policy/",rel:"noopener noreferrer",children:"Privacy Policy"}),Object(r.jsx)("a",{target:"_blank",href:"https://support.curriki.org/",rel:"noopener noreferrer",children:"Help & Support"})]}),Object(r.jsxs)("div",{className:"img-",children:[Object(r.jsx)("span",{children:"Powered by"}),Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAiCAYAAAADILqZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR+SURBVHgB7VhZqFVVGP68Wd3qXvM2YGVlRdhcD81UZBMZFNFLmFFYCqKIPiiigj6IovgiCIKKLw4PgoLziDiBIzijOHtxnud5/j7/f3H23Xfvc46ec/Uo54OPvffaa+29//lfGyijjIcKj6B4qCFbkF+QzcjT5GWUGIoh8BPkX+R/5HmYsK3Jn2BK2E1eQYmgUIEryD7ke+Ry8kOyilxNXiSfI98id/n1fUdjFIaW5EvkNpigz/h4s8gcnX9NTkUJoAKFYQ95gVwLs24SKmGKeRwlgEIEVoL6gRxNvpJjrqz/MkoAhQistb+ST5L7csxtRF5HCSAthp8iW5HvwBKPkttJmAvPJY+Sx32uLH2CHEx+T36Muslwn8+9W4Gl0Kf9/BDMW6r8+mCWddU+T8nyVBhMEvhzsh0y1r/pbAIT7htYApoFS1YqSz+Sz5KbydnkVb9WwjpLNif34u7wKdnWz7uSv5HfwpTcO8u6P8ivyE3ksDAYF1gf2QYmrBqHceQWF0DZ+B/yDfJ3cis5GVaDd/jad50BsqyUNTfhg4KlDiXck1WbkgfIWnKaj1/354XzbFjn7z8aHYwL/LO/TBhJ7ozc08uHkj39XErZTq5Ecga+6vdlCdXoX2Axr7XzyP9hSu1Fvk92cmH6+5jCqgf5qq8V5keeHxX4M1jjI4wg18Oqxpcwr1uVJvCbftyJusIGqGMaEBtTfOxx/gmrxVq7DBY/NT7vmr9PVpW7Kf4OR54bvqWDrwuWl2IfTfiWG36UQv6FJcZRLmxYp2fWaa7iAj/vxxPIHx/4C2W1vpFxxbViT+6+CBlXlEKmkzNQ/+MFueGgyPw4bkbWKIw6wxQykVyDHKhIedg13Bnk0i1jY68hvdlYgnQsRrqwUcjlu8M8SGE1P4819QQO6bs5Gg5y3zNZ7p9GfqhBJlwUr03zWRQXOPi/4qJFyhptFrrAEk0UlbHrqpT1uax3I8f9sF6KGQLbjak0tkUeiAu8CJk9bEdY0xGgh6pkSRGK2yY+fsmPqrlBSMXW22hYSGAJO8mvP0J9I9RDPGkpYYwh28M+eiCsvEio6sg8NRfL/FwvbQWzsKyvhKfeeiPM1RqhuIh7iJLiQvI7WKnrR55LW5zUS2svq2yr2qlYUwaUsBJczcZwckpk/gpyDizRhe5qPKxMCY+h4aH3yyhKZK2zTcxH+2pEJLT+ZmTL3vIWub20KytUIhPXpxKu4whJR0qOxnG+z0mbpwblLMooPbwI69xyQVZs4+d/I0dJLfQXTzGh7K9eXjE/E9YSfgLbkWkjoIQ0FrZTUn44BtvEqFqEeqxwUFuqXKJdlRofbXCOhJfEBa7GvUeIL2V2tZ0bkMnEyge1fq5t4gTYT8HzflQTIyV08zkqTdrdaV+uBKuK0Q5Wr2+jccrL7wf0o2ABrJQp26pKRFtTCSc3D9ZU1ZA7v5DwrGBlzanTyBTzR3yhUIbXzwdZdylMAXJX/QJWTVePoL8pcudamCVfhylgPzI/I8I9eYCEVmNyAWWUUUYZDyJuAU4t7yAe9dkkAAAAAElFTkSuQmCC",alt:""})]})]})}},418:function(e,t,n){"use strict";t.a=n.p+"static/media/loginlogo.b91b6143.png"},506:function(e,t,n){"use strict";(function(e){var r=n(27),c=n(3),a=n(12),i=n(24),s=(n(564),n(565)),o=n(135),u=n(419),l=n(418),d=n(392),j=n(507),m=n(2);t.a=Object(i.h)(Object(a.b)(null,(function(e){return{googleClassRoomLogin:function(t){return e(Object(d.f)(t))},googleClassRoomLoginFailure:function(t){return e(Object(d.g)(t))}}}))((function(t){var n=t.show,i=t.onHide,d=t.googleClassRoomLogin,b=(t.googleClassRoomLoginFailure,t.projectId),v=Object(a.d)((function(e){return e})),f=Object(c.useState)(""),h=Object(r.a)(f,2),p=h[0],O=h[1],x=Object(c.useState)(!1),g=Object(r.a)(x,2),w=g[0],y=g[1],N=Object(c.useState)([]),k=Object(r.a)(N,2),S=k[0],C=k[1],T=Object(c.useState)(!0),I=Object(r.a)(T,2),A=I[0],z=I[1];return Object(c.useEffect)((function(){!0===v.share.googleShare?y(!0):!1===v.share.googleShare?y(!1):"close"===v.share.googleShare&&i()}),[v,i]),Object(c.useEffect)((function(){v.share.courses&&(C(v.share.courses),z(!1))}),[v.share.courses]),Object(m.jsx)(s.a,{open:n,onClose:i,center:!0,children:Object(m.jsxs)("div",{className:"model-box-google model-box-view",children:[Object(m.jsx)("div",{className:"modal-header",children:Object(m.jsx)("img",{src:l.a,alt:""})}),Object(m.jsx)("div",{className:"model-body",style:{maxWidth:"500px"},children:Object(m.jsxs)("div",{className:"sign-in-google",children:[Object(m.jsx)("br",{}),w?Object(m.jsx)("div",{className:"classroom-form",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Are you sure you want to share this Project to Google Classroom?"}),A&&Object(m.jsx)("p",{className:"loading-classes",children:"Loading Classes...."}),Object(m.jsx)(o.b,{initialValues:{course:void 0,heading:"test",description:"test",room:"test"},onSubmit:function(e){i(),"Create a new class"===e.course?Object(j.a)(b,null,p):Object(j.a)(b,e.course,p),z(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleBlur,c=e.handleSubmit;return Object(m.jsxs)("form",{onSubmit:c,children:[Object(m.jsxs)("select",{className:"form-control select-dropdown",name:"course",value:t.course,onChange:n,onBlur:r,children:[Object(m.jsx)("option",{children:"Create a new class"}),!!S&&S.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),!A&&Object(m.jsx)("button",{type:"submit",children:"Confirm"})]})}})]})}):Object(m.jsxs)("div",{className:"content-authorization",children:[Object(m.jsx)("p",{children:"With CurrikiStudio you can publish your Project as a new Google Classroom course."}),Object(m.jsx)("p",{children:"To start, please log into your Google account."}),Object(m.jsx)("div",{children:Object(m.jsx)(u.GoogleLogin,{clientId:e.config.gapiClientId,onSuccess:function(e){d(e),O(JSON.stringify(e.tokenObj))},scope:"https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.courses https://www.googleapis.com/auth/classroom.topics https://www.googleapis.com/auth/classroom.coursework.me https://www.googleapis.com/auth/classroom.coursework.students",cookiePolicy:"single_host_origin",children:Object(m.jsx)("span",{children:"Login with Google"})})})]})]})})]})})})))}).call(this,n(36))},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),c=n.n(r),a=n(6),i=n(8),s=n.n(i),o=n(59),u=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.a.fire({title:"Publishing....",showCancelButton:!1,showConfirmButton:!1,allowOutsideClick:!1}),e.next=3,o.a.googleClassShare(t,n,r);case 3:e.sent.course?s.a.fire({icon:"success",title:"Shared!",confirmButtonColor:"#5952c6",html:"Your project has been shared to Google Classroom"}):s.a.fire({confirmButtonColor:"#5952c6",icon:"error",text:"Something went wrong, Kindly try again."});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},567:function(e,t,n){"use strict";var r=n(0),c=(n(3),n(2)),a=function(e){var t=e.input,n=e.label,a=e.showLabel,i=e.type,s=e.meta,o=s.touched,u=s.error,l=s.warning;return Object(c.jsxs)("div",{children:[a&&Object(c.jsx)("label",{children:Object(c.jsx)("h2",{children:n})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",Object(r.a)(Object(r.a)({},t),{},{type:i})),o&&(u&&Object(c.jsx)("span",{className:"validation-error",children:u})||l&&Object(c.jsx)("span",{children:l}))]})]})};a.defaultProps={label:"",showLabel:!0},t.a=a},636:function(e,t,n){"use strict";var r=n(0),c=(n(3),n(2)),a=function(e){var t=e.input,n=e.label,a=e.meta,i=a.touched,s=a.error,o=a.warning;return Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("h2",{children:n})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("textarea",Object(r.a)({},t)),i&&(s&&Object(c.jsx)("span",{className:"validation-error",children:s})||o&&Object(c.jsx)("span",{children:o}))]})]})};a.defaultProps={label:""},t.a=a},651:function(e,t,n){"use strict";(function(e){var r=n(23),c=n(27),a=n(3),i=n(30),s=n(379),o=n(424),u=(n(652),n(8)),l=n.n(u),d=n(12),j=n(382),m=n(2);function b(t){var n=t.isSaving,u=t.projects,b=t.handleSubmit,v=t.selectedProjects,f=t.setSelectedProjects,h=t.search,p=t.setSearch,O=Object(d.c)(),x=Object(a.useCallback)((function(e){p(e.target.value)}),[p]),g=Object(a.useState)(null),w=Object(c.a)(g,2),y=w[0],N=w[1],k=Object(a.useCallback)((function(e,t){O(Object(j.s)(t));var n=Object(r.a)(v),c=n.indexOf(e);-1===c?f([].concat(Object(r.a)(n),[e])):(n.splice(c,1),f(n))}),[v]),S=Object(a.useCallback)((function(){b(v)}),[v,b]);Object(a.useEffect)((function(){u&&N(u.filter((function(e){return e.name.toLowerCase().includes(h.toLowerCase())})))}),[u,h]);var C=Object(m.jsxs)("button",{type:"button",className:"create-team-submit-btn",disabled:n,onClick:S,children:["Finish",n&&Object(m.jsx)(i.a,{icon:"spinner"})]});return Object(m.jsx)("div",{className:"team-information",children:Object(m.jsxs)(s.a,{children:[Object(m.jsxs)("div",{className:"title-box",children:[Object(m.jsx)("h2",{className:"title",children:"Add/Assign Project"}),Object(m.jsx)("div",{className:"title-cross"}),(null===y||void 0===y?void 0:y.length)>0?C:null]}),Object(m.jsxs)("div",{className:"assign-project-wrapper",children:[Object(m.jsx)("div",{className:"search-box",children:Object(m.jsx)("input",{type:"text",placeholder:"Filter by name",value:h,onChange:x})}),Object(m.jsx)("div",{className:"assign-projects",children:y?y.length>0?y.map((function(t){return Object(m.jsxs)("div",{className:"assign-project-item",onClick:function(){0===v.length||v[0]===t.id?k(t.id,t.name):l.a.fire({icon:"warning",title:"Action Prohibited",text:"You are only allowed to select 1 project."})},children:[Object(m.jsx)("div",{className:"project-img",style:{backgroundImage:t.thumb_url.includes("pexels.com")?"url(".concat(t.thumb_url,")"):"url(".concat(e.config.resourceUrl).concat(t.thumb_url,")")}}),Object(m.jsx)("div",{className:"assign-project-radio",children:v.indexOf(t.id)>-1&&Object(m.jsx)("span",{className:"checkmark"})}),Object(m.jsx)("div",{className:"assign-project-title",children:t.name})]},t.id)})):Object(m.jsx)(o.a,{variant:"warning",children:" No Project Found. "}):Object(m.jsx)(o.a,{variant:"primary",children:"Loading..."})}),(null===y||void 0===y?void 0:y.length)>0?C:null]})]})})}b.defaultProps={selectedProjects:[],search:""},t.a=b}).call(this,n(36))},652:function(e,t,n){},923:function(e,t,n){},924:function(e,t,n){},925:function(e,t,n){var r=n(143),c=n(926),a=n(927),i=Math.max,s=Math.min;e.exports=function(e,t,n){var o,u,l,d,j,m,b=0,v=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=o,r=u;return o=u=void 0,b=t,d=e.apply(r,n)}function O(e){return b=e,j=setTimeout(g,t),v?p(e):d}function x(e){var n=e-m;return void 0===m||n>=t||n<0||f&&e-b>=l}function g(){var e=c();if(x(e))return w(e);j=setTimeout(g,function(e){var n=t-(e-m);return f?s(n,l-(e-b)):n}(e))}function w(e){return j=void 0,h&&o?p(e):(o=u=void 0,d)}function y(){var e=c(),n=x(e);if(o=arguments,u=this,m=e,n){if(void 0===j)return O(m);if(f)return clearTimeout(j),j=setTimeout(g,t),p(m)}return void 0===j&&(j=setTimeout(g,t)),d}return t=a(t)||0,r(n)&&(v=!!n.leading,l=(f="maxWait"in n)?i(a(n.maxWait)||0,t):l,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==j&&clearTimeout(j),b=0,o=m=u=j=void 0},y.flush=function(){return void 0===j?d:w(c())},y}},926:function(e,t,n){var r=n(46);e.exports=function(){return r.Date.now()}},927:function(e,t,n){var r=n(928),c=n(143),a=n(122),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||o.test(e)?u(e.slice(2),n?2:8):i.test(e)?NaN:+e}},928:function(e,t,n){var r=n(929),c=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(c,""):e}},929:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},930:function(e,t,n){var r=n(931),c=n(933),a=n(683),i=n(684),s=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),c(e,r(t,1),[])}));e.exports=s},931:function(e,t,n){var r=n(242),c=n(932);e.exports=function e(t,n,a,i,s){var o=-1,u=t.length;for(a||(a=c),s||(s=[]);++o<u;){var l=t[o];n>0&&a(l)?n>1?e(l,n-1,a,i,s):r(s,l):i||(s[s.length]=l)}return s}},932:function(e,t,n){var r=n(88),c=n(229),a=n(73),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||c(e)||!!(i&&e&&e[i])}},933:function(e,t,n){var r=n(159),c=n(629),a=n(686),i=n(934),s=n(937),o=n(244),u=n(938),l=n(595),d=n(73);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return c(t,1===e.length?e[0]:e)}:e})):[l];var j=-1;t=r(t,o(a));var m=i(e,(function(e,n,c){return{criteria:r(t,(function(t){return t(e)})),index:++j,value:e}}));return s(m,(function(e,t){return u(e,t,n)}))}},934:function(e,t,n){var r=n(935),c=n(227);e.exports=function(e,t){var n=-1,a=c(e)?Array(e.length):[];return r(e,(function(e,r,c){a[++n]=t(e,r,c)})),a}},935:function(e,t,n){var r=n(685),c=n(936)(r);e.exports=c},936:function(e,t,n){var r=n(227);e.exports=function(e,t){return function(n,c){if(null==n)return n;if(!r(n))return e(n,c);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&!1!==c(s[i],i,s););return n}}},937:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},938:function(e,t,n){var r=n(939);e.exports=function(e,t,n){for(var c=-1,a=e.criteria,i=t.criteria,s=a.length,o=n.length;++c<s;){var u=r(a[c],i[c]);if(u)return c>=o?u:u*("desc"==n[c]?-1:1)}return e.index-t.index}},939:function(e,t,n){var r=n(122);e.exports=function(e,t){if(e!==t){var n=void 0!==e,c=null===e,a=e===e,i=r(e),s=void 0!==t,o=null===t,u=t===t,l=r(t);if(!o&&!l&&!i&&e>t||i&&s&&u&&!o&&!l||c&&s&&u||!n&&u||!a)return 1;if(!c&&!i&&!l&&e<t||l&&n&&a&&!c&&!i||o&&n&&a||!s&&a||!u)return-1}return 0}},940:function(e,t,n){},941:function(e,t,n){},942:function(e,t,n){},943:function(e,t,n){},944:function(e,t,n){},945:function(e,t,n){"use strict";(function(e){var r=n(4),c=n.n(r),a=n(6),i=n(27),s=n(3),o=n(12),u=n(21),l=n(39),d=n(30),j=n(8),m=n.n(j),b=n(506),v=n(382),f=(n(946),n(148)),h=n(80),p=n(133),O=n(392),x=n(2);t.a=Object(o.b)((function(e){return{user:e.auth.user}}),(function(e){return{removeProject:function(t,n){return e(Object(v.q)(t,n))},removeMember:function(t,n,r){return e(Object(v.p)(t,n,r))}}}))((function(t){var n=t.team,r=n.users,j=n.projects,g=n.id,w=t.user,y=t.removeProject,N=t.removeMember,k=Object(o.d)((function(e){return e.organization})),S=Object(o.d)((function(e){return e.team})),C=S.teamPermission,T=S.selectedForClone,I=Object(o.d)((function(e){return e.notification})).notification,A=Object(o.c)(),z=Object(s.useState)(0),M=Object(i.a)(z,2),E=M[0],P=M[1],U=Object(s.useState)(!1),F=Object(i.a)(U,2),B=F[0],L=F[1],R=(r.find((function(e){return e.id===(w||{}).id})),Object(o.d)((function(e){return e.share}))),_=Object(s.useState)([]),q=Object(i.a)(_,2),K=q[0],W=q[1],Y=function(){L(!B)};Object(s.useEffect)((function(){A(Object(h.j)())}),[]),Object(s.useEffect)((function(){W(R)}),[R,R.shareVendors]),Object(s.useEffect)((function(){var e,t;0===Object.keys(C).length&&(null===k||void 0===k||null===(e=k.currentOrganization)||void 0===e?void 0:e.id)&&g&&A(Object(v.g)(null===k||void 0===k||null===(t=k.currentOrganization)||void 0===t?void 0:t.id,g))}),[C]),Object(s.useEffect)((function(){var e;-1!==(null===I||void 0===I||null===(e=I.today[0])||void 0===e?void 0:e.data.message.indexOf(T))&&A(Object(v.n)())}),[null===I||void 0===I?void 0:I.today]);var G=Object(s.useCallback)((function(e){y(g,e).catch((function(){m.a.fire({icon:"error",title:"Error",text:"Failed to remove project."})}))}),[g,y]);return Object(s.useCallback)((function(e,t){N(g,e,t).catch((function(){m.a.fire({icon:"error",title:"Error",text:"Failed to remove member."})}))}),[g,N]),Object(x.jsxs)("div",{className:"team-information",children:[Object(x.jsx)("div",{className:"projects-wrapper",children:Object(x.jsx)("div",{className:"project-list",children:j.map((function(t){var n,r,i,s,o,j,b,v,g,w,y;return Object(x.jsxs)("div",{className:"project-content-item",children:[Object(x.jsx)("div",{className:"project-img",style:{backgroundImage:t.thumb_url.includes("pexels.com")?"url(".concat(t.thumb_url,")"):"url(".concat(e.config.resourceUrl).concat(t.thumb_url,")")}}),Object(x.jsxs)("div",{className:"project-title",children:[Object(x.jsx)(u.b,{to:"/studio/org/".concat(null===(n=k.currentOrganization)||void 0===n?void 0:n.domain,"/project/").concat(t.id),children:t.name}),Object(x.jsxs)(l.a,{className:"project-dropdown check d-flex justify-content-center align-items-center",children:[Object(x.jsx)(l.a.Toggle,{className:"project-dropdown-btn project d-flex justify-content-center align-items-center",children:Object(x.jsx)(d.a,{icon:"ellipsis-v"})}),Object(x.jsxs)(l.a.Menu,{children:[(null===C||void 0===C||null===(r=C.Team)||void 0===r?void 0:r.includes("team:view-project"))&&Object(x.jsxs)(l.a.Item,{as:u.b,to:"/studio/org/".concat(null===(i=k.currentOrganization)||void 0===i?void 0:i.domain,"/project/").concat(t.id,"/preview"),children:[Object(x.jsx)(d.a,{icon:"eye",className:"mr-2"}),"Preview"]}),(null===C||void 0===C||null===(s=C.Team)||void 0===s?void 0:s.includes("team:view-project"))&&Object(x.jsxs)(l.a.Item,{as:u.b,to:"/studio/org/".concat(null===(o=k.currentOrganization)||void 0===o?void 0:o.domain,"/project/").concat(t.id),children:[Object(x.jsx)(d.a,{icon:"globe",className:"mr-2"}),"Build"]}),(null===C||void 0===C||null===(j=C.Team)||void 0===j?void 0:j.includes("team:publish-project"))&&Object(x.jsxs)("li",{className:"dropdown-submenu send",children:[Object(x.jsxs)("a",{tabIndex:"-1",children:[Object(x.jsx)(d.a,{icon:"newspaper",className:"mr-2"}),"Publish"]}),Object(x.jsxs)("ul",{className:"dropdown-menu check",children:[Object(x.jsx)("li",{onClick:function(){Y(),Object(O.b)(t.id),P(t.id),A(Object(O.h)(!1))},children:Object(x.jsx)("a",{children:"Google Classroom"})}),(null===K||void 0===K?void 0:K.shareVendors)&&K.shareVendors.map((function(e){return"safarimontage"!==e.lms_name&&Object(x.jsx)("li",{children:Object(x.jsx)("a",{onClick:Object(a.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A(Object(p.g)(t.id));case 2:(r=n.sent)&&A(Object(h.h)(e.lms_name.toLowerCase(),e.id,t.id,r.playlists,e.lms_url));case 4:case"end":return n.stop()}}),n)}))),children:e.site_name})})}))]})]}),(null===C||void 0===C||null===(b=C.Team)||void 0===b?void 0:b.includes("team:share-project"))&&Object(x.jsxs)(l.a.Item,{to:"#",onClick:Object(a.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(window.location.href.split("/")[0],"//"),r="".concat(n+window.location.host,"/project/").concat(t.id,"/shared"),t.shared){e.next=10;break}return m.a.showLoading(),e.next=6,A(Object(h.v)(t.id,t.name));case 6:m.a.close(),Object(f.a)(r,t.name),e.next=11;break;case 10:Object(f.a)(r,t.name);case 11:case"end":return e.stop()}}),e)}))),children:[Object(x.jsx)(d.a,{icon:"share",className:"mr-2"}),"Share"]}),(null===C||void 0===C||null===(v=C.Team)||void 0===v?void 0:v.includes("team:edit-project"))&&Object(x.jsxs)(l.a.Item,{as:u.b,to:"/studio/org/".concat(null===(g=k.currentOrganization)||void 0===g?void 0:g.domain,"/project/").concat(t.id,"/edit"),children:[Object(x.jsx)(d.a,{icon:"pen",className:"mr-2"}),"Edit"]}),((null===C||void 0===C||null===(w=C.Team)||void 0===w?void 0:w.includes("team:remove-project"))||(null===C||void 0===C||null===(y=C.Team)||void 0===y?void 0:y.includes("team:remove-member-project")))&&Object(x.jsxs)(l.a.Item,{onClick:function(){return G(t.id)},children:[Object(x.jsx)(d.a,{icon:"times-circle",className:"mr-2"}),"Remove project"]})]})]})]}),!1]},t.id)}))})}),Object(x.jsx)(b.a,{projectId:E,show:B,onHide:Y})]})}))}).call(this,n(36))},946:function(e,t,n){},947:function(e,t,n){},948:function(e,t,n){}}]);
//# sourceMappingURL=21.2e9285ca.chunk.js.map