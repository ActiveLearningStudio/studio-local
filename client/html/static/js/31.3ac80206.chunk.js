(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[31],{383:function(e,n,t){"use strict";var r=t(7),c=t(3),a=t.n(c),s=t(17),i=t.n(s);n.a=function(e){return a.a.forwardRef((function(n,t){return a.a.createElement("div",Object(r.a)({},n,{ref:t,className:i()(n.className,e)}))}))}},388:function(e,n,t){"use strict";var r=t(7),c=t(10),a=t(9),s=t.n(a),i=t(3),o=t.n(i),u=t(17),l=t.n(u),f=["label","onClick","className"],d={label:s.a.string.isRequired,onClick:s.a.func},p=o.a.forwardRef((function(e,n){var t=e.label,a=e.onClick,s=e.className,i=Object(c.a)(e,f);return o.a.createElement("button",Object(r.a)({ref:n,type:"button",className:l()("close",s),onClick:a},i),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"),o.a.createElement("span",{className:"sr-only"},t))}));p.displayName="CloseButton",p.propTypes=d,p.defaultProps={label:"Close"},n.a=p},424:function(e,n,t){"use strict";var r=t(7),c=t(10),a=t(17),s=t.n(a),i=t(3),o=t.n(i),u=t(43),l=t(32),f=t(20),d=t(140),p=t(388),j=t(383),m=t(81),b=t(63),h=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],v=Object(j.a)("h4");v.displayName="DivStyledAsH4";var O=Object(m.a)("alert-heading",{Component:v}),x=Object(m.a)("alert-link",{Component:b.a}),y={show:!0,transition:d.a,closeLabel:"Close alert"},w=o.a.forwardRef((function(e,n){var t=Object(u.useUncontrolled)(e,{show:"onClose"}),a=t.bsPrefix,i=t.show,j=t.closeLabel,m=t.className,b=t.children,v=t.variant,O=t.onClose,x=t.dismissible,y=t.transition,w=Object(c.a)(t,h),g=Object(f.a)(a,"alert"),N=Object(l.a)((function(e){O&&O(!1,e)})),k=!0===y?d.a:y,E=o.a.createElement("div",Object(r.a)({role:"alert"},k?void 0:w,{ref:n,className:s()(m,g,v&&g+"-"+v,x&&g+"-dismissible")}),x&&o.a.createElement(p.a,{onClick:N,label:j}),b);return k?o.a.createElement(k,Object(r.a)({unmountOnExit:!0},w,{ref:void 0,in:i}),E):i?E:null}));w.displayName="Alert",w.defaultProps=y,w.Link=x,w.Heading=O,n.a=w},509:function(e,n,t){"use strict";t.d(n,"c",(function(){return x})),t.d(n,"k",(function(){return y})),t.d(n,"m",(function(){return w})),t.d(n,"b",(function(){return g})),t.d(n,"p",(function(){return N})),t.d(n,"l",(function(){return k})),t.d(n,"d",(function(){return E})),t.d(n,"j",(function(){return C})),t.d(n,"i",(function(){return S})),t.d(n,"o",(function(){return A})),t.d(n,"n",(function(){return P})),t.d(n,"e",(function(){return L})),t.d(n,"h",(function(){return R})),t.d(n,"a",(function(){return I})),t.d(n,"f",(function(){return U})),t.d(n,"g",(function(){return _}));var r=t(4),c=t.n(r),a=t(6),s=t(0),i=t(44),o=t.n(i),u=t(25),l=t(5),f=u.a.apiVersion,d=u.a.tsugiBaseUrl,p=function(e){return l.a.post("/".concat(f,"/go/lms/projects"),Object(s.a)({},e)).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},j=function(e){return l.a.post("/".concat(f,"/go/lms/projects"),Object(s.a)({},e)).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},m=function(e){return l.a.get("/".concat(f,"/go/lms/project/").concat(e)).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},b=function(e){return l.a.get("/".concat(f,"/google-classroom/activities/").concat(e,"/h5p-resource-settings")).then((function(e){return e.data})).catch((function(e){return Promise.reject(e.response.data)}))},h=function(e,n,t){return o()({method:"post",url:d,params:{PHPSESSID:e,gpb:n,final_grade:t}}).then((function(e){return e}))},v=function(e,n){return l.a.post("/".concat(f,"/outcome/summary"),{actor:e,activity:n}).then((function(e){return e.data})).catch((function(e){return e&&e.response&&e.response.data&&e.response.data.errors?e.response.data:(console.log("Unexpected error in summary endpoint:"),console.log(e),null)}))},O=t(1),x=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p(e);case 2:r=n.sent,t({type:O.Cb,results:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j(e);case 2:r=n.sent,t({type:O.Db,results:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:O.Ue});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:O.B});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},N=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:O.lf,params:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:O.Be,activity:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:O.P});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},C=function(){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:O.yd});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},S=function(){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:O.td});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},A=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m(e.id);case 2:r=n.sent,t({type:O.We,project:r.project});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},P=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:O.Ve,playlist:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},L=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(e);case 2:r=n.sent,t({type:O.Rb,h5pSettings:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},R=function(e,n,t,r){return function(){var s=Object(a.a)(c.a.mark((function a(s){return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s({type:O.sc}),!r){c.next=4;break}return c.next=4,h(e,n,t);case 4:case"end":return c.stop()}}),a)})));return function(e){return s.apply(this,arguments)}}()},I=function(){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:O.pd});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},U=function(e,n){return function(){var t=Object(a.a)(c.a.mark((function t(r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e,n);case 2:a=t.sent,r({type:O.Ub,summary:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var n=Object(a.a)(c.a.mark((function n(t){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(e);case 2:r=n.sent,t({type:O.Vb,summaryActivityInfo:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},653:function(e,n,t){"use strict";var r=t(23),c=t(27),a=t(3),s=t(424),i=t(30),o=(t(654),t(2));n.a=function(e){var n=e.outcome,t=Object(a.useState)([]),u=Object(c.a)(t,2),l=u[0],f=u[1],d=Object(a.useState)(0),p=Object(c.a)(d,2),j=p[0],m=p[1],b=Object(a.useState)(!1),h=Object(c.a)(b,2),v=h[0],O=h[1];Object(a.useEffect)((function(){window.scrollTo(0,0);var e=0,t=function n(t){"section"===t.type?t.children.forEach((function(e){return n(e)})):e+=1};n.forEach((function(e){return t(e)})),m(e)}),[]);var x=function(e){if("expand"===e){var t=[],r=function e(n){Array.isArray(n)&&n.forEach((function(n){return e(n)})),n.title&&t.push(n.title),"section"===n.type&&n.children.forEach((function(n){return e(n)}))};n.forEach((function(e){return r(e)})),f(t)}else f([])},y=function e(n){var t,c,a=l.includes(n.title)?"":"section-container-closed";return Array.isArray(n)?n.map((function(n){return e(n)})):n.children?(!1===v&&O(!0),Object(o.jsxs)("div",{className:"section-container",children:[Object(o.jsxs)("div",{className:"section-title",onClick:function(){return function(e){var n=[],t=Object(r.a)(l);n=l.includes(e)?t.filter((function(n){return n!==e})):t.concat([e]),f(n)}(n.title)},children:[n.title,Object(o.jsx)("span",{children:""===a?"\u25bc":"\u25c0"})]}),Object(o.jsx)("div",{className:"section-content ".concat(a," p-2"),children:n.children.map((function(n){return e(n)}))})]})):n.answer?Object(o.jsxs)("div",{className:"question-container",children:[Object(o.jsx)("div",{className:"question-question",children:n.title}),Object(o.jsx)("div",{className:"question-spacer",children:Object(o.jsx)("div",{})}),Object(o.jsx)("div",{className:"question-answers",children:Object(o.jsx)("ul",{children:Object(o.jsx)("li",{children:Object(o.jsxs)("div",{className:"answer-container",children:[Object(o.jsxs)("div",{className:"response-container",children:[1===(null===(t=n.answer.responses)||void 0===t?void 0:t.length)&&Object(o.jsx)("span",{children:n.answer.responses[0]}),(null===(c=n.answer.responses)||void 0===c?void 0:c.length)>1&&Object(o.jsx)("ul",{children:n.answer.responses.map((function(e){return Object(o.jsx)("li",{children:e})}))})]}),Object(o.jsx)("div",{className:"score-container",children:Object(o.jsxs)("div",{className:"score-badge",children:[Object(o.jsx)("div",{className:"score-badge-header",children:"SCORE"}),Object(o.jsx)("div",{className:"score-badge-score",children:"".concat(n.answer.score.raw," / ").concat(n.answer.score.max)}),Object(o.jsx)("div",{className:"score-badge-header",children:Object(o.jsx)(i.a,{icon:"clock"})}),Object(o.jsx)("div",{className:"score-badge-score",children:n.answer.duration})]})})]})})})})]}):Object(o.jsx)("div",{children:Object(o.jsx)("p",{className:"question-title",children:"Unknown"})})};return Object(o.jsxs)("div",{children:[!n&&Object(o.jsx)(s.a,{children:"Missing outcome data."}),n&&Object(o.jsxs)("div",{className:"summary-outcome-controls",children:[Object(o.jsxs)("div",{className:"summary-outcome-answer-count",children:[Object(o.jsx)(i.a,{icon:"star"}),"".concat(j," Responses")]}),v&&Object(o.jsxs)("div",{className:"summary-outcome-controls-btns",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return x("expand")},children:"Expand All"}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return x("collapse")},children:"Collapse All"})]})]}),n&&n.map((function(e){return y(e)}))]})}},654:function(e,n,t){},655:function(e,n,t){"use strict";n.a=t.p+"static/media/studio_new_logo_small.450d1318.png"},959:function(e,n,t){},993:function(e,n,t){"use strict";t.r(n);var r=t(3),c=t(12),a=t(24),s=t(509),i=t(653),o=t(655),u=t(424),l=(t(959),t(2));n.default=Object(a.h)(Object(c.b)((function(e){return{summary:e.canvas.summary,activityInfo:e.canvas.summaryActivityInfo,summaryError:e.canvas.summaryError}}),(function(e){return{getLtiSummary:function(n,t){return e(Object(s.f)(n,t))},getLtiActivityInfo:function(n,t){return e(Object(s.g)(n,t))}}}))((function(e){var n=e.match,t=e.summary,c=e.activityInfo,a=e.summaryError,s=e.getLtiSummary,f=e.getLtiActivityInfo,d=new URLSearchParams(window.location.search).get("submission"),p=new URLSearchParams(atob(d)),j=p.get("activity_id"),m=p.get("result_id"),b=p.get("user_id"),h=p.get("referrer");return Object(r.useEffect)((function(){window.scrollTo(0,0);var e=JSON.stringify({account:{homePage:h,name:b}}),n="".concat(window.location.origin,"/activity/").concat(j,"/submission/").concat(m);f(j),s(e,n)}),[n]),Object(r.useEffect)((function(){console.log(t),console.log(a)}),[a,t,c]),Object(l.jsxs)("div",{className:"outcome-summary-container",children:[null===t&&null===a&&Object(l.jsxs)("div",{className:"loading",children:[Object(l.jsx)("div",{className:"loading_image",children:Object(l.jsx)("img",{src:o.a,alt:"Curriki Studio logo"})}),Object(l.jsx)("div",{className:"loading-message",children:"Please wait while retrieving your data ..."})]}),a&&Object(l.jsx)("div",{className:"row m-4",children:Object(l.jsx)("div",{className:"col text-center",children:Object(l.jsxs)(u.a,{variant:"warning",children:[Object(l.jsx)("p",{children:"An error has occurred:"}),Object(l.jsx)("p",{children:a})]})})}),t&&c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("div",{className:"title-container",children:[Object(l.jsx)("div",{className:"title-label",children:"ACTIVITY SUMMARY"}),Object(l.jsx)("div",{className:"title-spacer",children:Object(l.jsx)("div",{})}),Object(l.jsx)("div",{className:"title-content",children:c.title})]})})}),Object(l.jsx)("div",{className:"row m-4",children:Object(l.jsx)("div",{className:"col",children:Object(l.jsx)(i.a,{outcome:t})})})]})]})})))}}]);
//# sourceMappingURL=31.3ac80206.chunk.js.map