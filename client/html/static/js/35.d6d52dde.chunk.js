(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[35],{1014:function(t,e,n){"use strict";n.r(e);var i=n(83),c=n(0),a=n(27),r=n(3),o=n(12),s=n(149),l=n(424),u=n(423),d=n(24),m=n(8),p=n.n(m),f=n(134),v=n(411),h=n(72),b=(n(955),n(2)),j=Object(d.h)(Object(o.b)((function(t){return{h5pSettings:t.genericLMS.h5pSettings,user:t.genericLMS.user}}),(function(t){return{loadH5pSettings:function(e){return t(Object(u.c)(e))},sendStatement:function(e){return t(Object(h.t)(e))}}}))((function(t){var e=t.match,n=t.user,i=t.activityId,c=t.h5pSettings,o=t.loadH5pSettings,s=t.sendStatement,l=e.params.lmsName+e.params.lmsCourseId+e.params.lmsUnitId+n.id,u=Object(r.useState)(null),d=Object(a.a)(u,2),m=d[0],h=d[1],j=Object(r.useState)(!1),g=Object(a.a)(j,2),y=g[0],x=g[1],I=Object(r.useState)(!1),O=Object(a.a)(I,2),w=O[0],N=O[1];return Object(r.useEffect)((function(){window.scrollTo(0,0),null===m&&h(Date.now()),o(i)}),[i]),Object(r.useEffect)((function(){if(null!==c){window.H5PIntegration=c.h5p.settings,document.getElementById("curriki-h5p-wrapper").innerHTML=c.h5p.embed_code.trim();var t=c.h5p.settings.core.styles.concat(c.h5p.settings.loadedCss);Promise.all(t.map((function(t){var e=document.createElement("link");return e.href=t,e.type="text/css",e.rel="stylesheet",document.head.appendChild(e),!0}))),c.h5p.settings.core.scripts.concat(c.h5p.settings.loadedJs).forEach((function(t){var e=document.createElement("script");e.src=t,e.async=!1,document.body.appendChild(e)}));var e=setInterval((function(){if(y)console.log("Loaded hit, returning");else{var t=document.getElementsByClassName("h5p-iframe")[0].contentWindow;t.H5P&&t.H5P.externalDispatcher&&(console.log("AE H5P ready"),clearInterval(e),setTimeout((function(){x(!0)})))}}))}}),[c]),Object(r.useEffect)((function(){if(console.log("AE entered hook func"),y&&!w){var t=document.getElementsByClassName("h5p-iframe")[0].contentWindow;t.H5P.externalDispatcher&&!1!==v.c(e.path)?(console.log("AE found dispatcher, trying to hook"),t.H5P.externalDispatcher.on("xAPI",(function(t){var c=this;console.log("AE running listener");var a={path:e.path,studentId:n.id,activityId:i,submissionId:l,attemptId:m,homepage:decodeURIComponent(e.params.lmsUrl),courseId:e.params.lmsCourseId,toolPlatform:decodeURIComponent(e.params.lmsUrl)},r=v.b(this,t.data.statement,a);"submitted-curriki"===t.data.statement.verb.display["en-US"]?(void 0===this.parent&&this.interactions&&this.interactions.forEach((function(t){if(!t.getLastXAPIVerb()){var e=t.getXAPIData();if(e){var n=JSON.stringify(v.b(c,e.statement,a,!0));s(n)}}}),this),s(JSON.stringify(r)),p.a.fire({title:"You have completed this activity.",confirmButtonText:"OK"})):s(JSON.stringify(r))})),console.log("AE maybe hooked?"),N(!0)):console.log("AE missing dispatcher")}else console.log("hit over here")}),[y,e.path,e.params,i]),Object(b.jsx)("div",{id:"curriki-h5p-wrapper",children:Object(b.jsx)("div",{className:"loader_gif",children:Object(b.jsx)("img",{style:{width:"50px"},src:f.a,alt:""})})})}))),g=n(586);e.default=Object(o.b)((function(t){return{showActivity:t.genericLMS.showActivity,showLogin:t.genericLMS.showLogin,errors:t.genericLMS.errors}}),(function(t){return{doLogin:function(e){return t(Object(u.b)(e))}}}))((function(t){var e=t.match,n=t.showActivity,o=t.showLogin,u=t.doLogin,d=t.errors,m=Object(r.useState)({}),p=Object(a.a)(m,2),f=p[0],v=p[1],h=function(t){v(Object(c.a)(Object(c.a)({},f),{},Object(i.a)({},t.target.name,t.target.value)))};return Object(b.jsx)("div",{className:"gclass-activity-container",children:Object(b.jsxs)("section",{className:"main-page-content preview iframe-height-resource-shared",children:[Object(b.jsx)(s.a,{children:Object(b.jsx)("script",{src:"https://dev.currikistudio.org/api/storage/h5p/h5p-core/js/h5p-resizer.js",charset:"UTF-8"})}),Object(b.jsx)("div",{className:"flex-container previews",children:Object(b.jsx)("div",{className:"activity-bg left-vdo",children:Object(b.jsx)("div",{className:"main-item-wrapper desktop-view",children:Object(b.jsxs)("div",{className:"item-container",children:[n&&Object(b.jsx)(j,{activityId:e.params.activityId}),o&&Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col text-center",children:Object(b.jsx)("img",{className:"curriki-logo",src:g.a,alt:""})})}),d&&d.map((function(t){return Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col text-center",children:Object(b.jsx)(l.a,{variant:"warning",children:t})})})})),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col text-center",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),u({username:f.username,password:f.password,lmsName:e.params.lmsName,lmsUrl:decodeURIComponent(e.params.lmsUrl),lmsClientId:e.params.lmsClientId,courseId:e.params.lmsCourseId,activityId:e.params.activityId})},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Username"}),Object(b.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Username",onChange:h})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{className:"form-control",type:"password",name:"password",onChange:h})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})]})})})]})]})})})})]})})}))},383:function(t,e,n){"use strict";var i=n(7),c=n(3),a=n.n(c),r=n(17),o=n.n(r);e.a=function(t){return a.a.forwardRef((function(e,n){return a.a.createElement("div",Object(i.a)({},e,{ref:n,className:o()(e.className,t)}))}))}},388:function(t,e,n){"use strict";var i=n(7),c=n(10),a=n(9),r=n.n(a),o=n(3),s=n.n(o),l=n(17),u=n.n(l),d=["label","onClick","className"],m={label:r.a.string.isRequired,onClick:r.a.func},p=s.a.forwardRef((function(t,e){var n=t.label,a=t.onClick,r=t.className,o=Object(c.a)(t,d);return s.a.createElement("button",Object(i.a)({ref:e,type:"button",className:u()("close",r),onClick:a},o),s.a.createElement("span",{"aria-hidden":"true"},"\xd7"),s.a.createElement("span",{className:"sr-only"},n))}));p.displayName="CloseButton",p.propTypes=m,p.defaultProps={label:"Close"},e.a=p},411:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r}));var i=n(0);function c(t){return["/gclass/launch/:userId/:courseId/:activityId/:classworkId","/lti-tools/activity/:activityId","/activity/:activityId/shared","/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId"].includes(t)}function a(t,e,n){var c,a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.path,s=n.activityId,l=n.submissionId,u=n.attemptId,d=n.studentId,m=n.courseId,p=n.homepage,f=n.toolPlatform,v=n.activeCourse,h=n.customCourseName,b=n.customApiDomainUrl,j=n.customCourseCode,g=[{"/project/:projectId/playlist/:playlistId/activity/:activityId/preview":"CurrikiStudio"},{"/activity/:activityId/shared":"CurrikiStudio"},{"/gclass/launch/:userId/:courseId/:activityId/:classworkId":"Google Classroom"},{"/lti-tools/activity/:activityId":"LTI client"},{"/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId":"GenericLMS"}].find((function(t){return t[o]}));if(void 0!==g){var y,x,I=Object(i.a)({},e),O=[{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(s,"/submission/").concat(l,"/").concat(u)},{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(s,"/submission/").concat(l)}];"Google Classroom"===g[o]&&(O.push({objectType:"Activity",id:"".concat(window.location.origin,"/gclass/").concat(m)}),I.object&&I.object.definition&&I.object.definition.extensions&&(I.object.definition.extensions["http://currikistudio.org/x-api/gclass-alternate-course-id"]=v.alternateLink,I.object.definition.extensions["http://currikistudio.org/x-api/course-name"]=v.name)),g[o],O.push({objectType:"Activity",id:"".concat(window.location.origin,"/lti/").concat(m)}),(null===I||void 0===I||null===(y=I.object)||void 0===y||null===(x=y.definition)||void 0===x?void 0:x.extensions)&&(I.object.definition.extensions["http://currikistudio.org/x-api/lms-course-name"]=h,I.object.definition.extensions["http://currikistudio.org/x-api/lms-domain-url"]=b,I.object.definition.extensions["http://currikistudio.org/x-api/lms-course-code"]=j);var w={objectType:"Agent",account:{homePage:p||"https://classroom.google.com",name:d}};I.context&&("LTI client"===g[o]?I.context.platform=f:I.context.platform=g[o],I.context.contextActivities.other=O),I.actor=w,r&&(I.verb={id:"http://adlnet.gov/expapi/verbs/skipped",display:{"en-US":"skipped"}},I.result&&I.result.score&&I.result.score.min===I.result.score.max&&(I.result.score.max+=1)),I.object&&"compound"===I.object.definition.interactionType&&(I.object.definition.interactionType="choice");for(var N=t;N&&"H5P.InteractiveBook"!==(null===(C=N)||void 0===C||null===(k=C.libraryInfo)||void 0===k?void 0:k.machineName);){var C,k;N=N.parent}if("H5P.InteractiveBook"===(null===(c=N)||void 0===c||null===(a=c.libraryInfo)||void 0===a?void 0:a.machineName)){var S=N.getActiveChapter();I.object.definition.extensions["http://currikistudio.org/x-api/h5p-chapter-name"]=N.chapters[S].title}return I}}function r(t,e,n){var c,a=n.path,r=n.activityId,o=Object(i.a)({},e),s=Math.floor(1e5*Math.random()).toString(),l=Math.floor(1e5*Math.random()).toString(),u=Math.floor(1e5*Math.random()).toString(),d=[{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(r,"/submission/").concat(s,"/").concat(l)},{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(r,"/submission/").concat(s)},{objectType:"Activity",id:"".concat(window.location.origin,"/gclass/").concat(u)}],m=[{"/project/:projectId/playlist/:playlistId/activity/:activityId/preview":"CurrikiStudio"},{"/activity/:activityId/shared":"CurrikiStudio"},{"/gclass/launch/:userId/:courseId/:activityId/:classworkId":"Google Classroom"},{"/lti-tools/activity/:activityId":"LTI client"},{"/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId":"GenericLMS"}].find((function(t){return t[a]}));if(void 0!==m)return(null===o||void 0===o||null===(c=o.context)||void 0===c?void 0:c.contextActivities)&&(o.context.platform=m[a],o.context.contextActivities.other=d),o.object.definition.extensions["http://id.tincanapi.com/extension/referrer"]=document.referrer?document.referrer:window.location.origin,o}},423:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return v})),n.d(e,"a",(function(){return h}));var i=n(4),c=n.n(i),a=n(6),r=n(25),o=n(5),s=r.a.apiVersion,l=function(t,e){return o.a.post("/".concat(s,"/go/").concat(t,"/login"),e).then((function(t){return t.data})).catch((function(t){return t.response.data}))},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.a.get("/".concat(s,"/google-classroom/activities/").concat(t,"/h5p-resource-settings"),{},{gcuid:e}).then((function(t){return t.data})).catch((function(t){Promise.reject(t.response.data)}))},d=function(t,e,n,i){return o.a.post("/".concat(s,"/go/safarimontage/projects/").concat(t,"/playlists/").concat(e,"/activities/").concat(n,"/publish"),{setting_id:i,count:1}).then((function(t){return t.data})).catch((function(t){return t.response.data}))},m=n(53),p=function(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.lmsName,t);case 2:(i=e.sent).errors?n({type:m.e,results:i}):n({type:m.d,results:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:(i=e.sent).errors?n({type:m.c,results:i}):n({type:m.b,results:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t,e,n,i){return function(){var r=Object(a.a)(c.a.mark((function a(r){var o;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,d(t,e,n,i);case 2:(o=c.sent).errors?r({type:m.g,results:o}):r({type:m.f,results:o});case 4:case"end":return c.stop()}}),a)})));return function(t){return r.apply(this,arguments)}}()},h=function(){return function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:m.a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},424:function(t,e,n){"use strict";var i=n(7),c=n(10),a=n(17),r=n.n(a),o=n(3),s=n.n(o),l=n(43),u=n(32),d=n(20),m=n(140),p=n(388),f=n(383),v=n(81),h=n(63),b=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],j=Object(f.a)("h4");j.displayName="DivStyledAsH4";var g=Object(v.a)("alert-heading",{Component:j}),y=Object(v.a)("alert-link",{Component:h.a}),x={show:!0,transition:m.a,closeLabel:"Close alert"},I=s.a.forwardRef((function(t,e){var n=Object(l.useUncontrolled)(t,{show:"onClose"}),a=n.bsPrefix,o=n.show,f=n.closeLabel,v=n.className,h=n.children,j=n.variant,g=n.onClose,y=n.dismissible,x=n.transition,I=Object(c.a)(n,b),O=Object(d.a)(a,"alert"),w=Object(u.a)((function(t){g&&g(!1,t)})),N=!0===x?m.a:x,C=s.a.createElement("div",Object(i.a)({role:"alert"},N?void 0:I,{ref:e,className:r()(v,O,j&&O+"-"+j,y&&O+"-dismissible")}),y&&s.a.createElement(p.a,{onClick:w,label:f}),h);return N?s.a.createElement(N,Object(i.a)({unmountOnExit:!0},I,{ref:void 0,in:o}),C):o?C:null}));I.displayName="Alert",I.defaultProps=x,I.Link=y,I.Heading=g,e.a=I},586:function(t,e,n){"use strict";e.a=n.p+"static/media/logo.e4118a3b.svg"},955:function(t,e,n){}}]);
//# sourceMappingURL=35.d6d52dde.chunk.js.map