(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[23],{1007:function(t,e,i){"use strict";i.r(e);var c=i(0),n=i(136),a=i(137),r=i(139),s=i(138),o=i(3),l=i.n(o),d=i(12),u=i(24),A=i(80),j=i(608),v=i(191),p=i(646),h=i(30),b=i(21),m=i(374),f=i(371),y=i(458),x=i(604),O=i(133),g=i(605),w=i(606),N=i(39),I=(i(607),i(2)),P=function(t){var e=t.showLti,i=t.shared,c=t.activity,n=t.projectId,a=t.playlistId;return Object(I.jsx)(N.a.Item,{as:b.b,style:{borderBottom:"1px solid #eee",padding:"10px"},to:i?"/studio/project/".concat(n,"/playlist/").concat(a,"/activity/").concat(c.id,"/preview/shared"):e?"/studio/playlist/".concat(a,"/activity/").concat(c.id,"/preview/lti"):"/studio/project/".concat(n,"/playlist/").concat(a,"/activity/").concat(c.id,"/preview"),children:Object(I.jsxs)("div",{className:"d-flex align-items-center",children:[Object(I.jsx)(h.a,{icon:"play-circle"}),Object(I.jsx)("div",{className:"ml-2 title",style:{whiteSpace:"normal"},children:c.title})]})})};P.defaultProps={showLti:!1,shared:!1,projectId:null};var k=P;function B(t){var e=t.showLti,i=t.shared,c=t.projectId,n=t.playlistId,a=t.activities;return 0===a.length?Object(I.jsx)("div",{className:"col-md-12",children:Object(I.jsx)("div",{className:"alert alert-info",role:"alert",children:"No activity defined for this playlist."})}):a.map((function(t){return Object(I.jsx)(k,{showLti:e,shared:i,projectId:c,playlistId:n,activity:t},t.id)}))}B.defaultProps={showLti:!1,shared:!1,projectId:null,activities:[]};var C=B,K=(i(573),l.a.lazy((function(){return i.e(10).then(i.bind(null,516))})));function Q(t){var e=t.playlist,i=t.playlistId,c=t.activityId,n=t.showLti,a=t.loadLtiPlaylist,r=t.loadProjectPlaylists,s=t.setCollapsed,l=t.collapsed;Object(o.useEffect)((function(){window.scrollTo(0,0),a(i)}),[i,c,a]);var d=e.selectedPlaylist;if(Object(o.useEffect)((function(){d&&r(d.project_id)}),[d]),d&&d.id!==i&&(d=null),e.isNonAvailablePlaylist)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",style:{fontSize:"1.5em"},children:"Playlist is not available."});if(!d)return Object(I.jsx)("div",{className:"alert alert-info",role:"alert",children:"Loading..."});var u,A=e.playlists,j=c,v=null,p=null;if(d.activities&&d.activities.length>0&&(null!==j&&void 0!==j||(j=d.activities[0].id),u=d.activities.find((function(t){return t.id===j})))){var y=d.activities.findIndex((function(t){return t.id===u.id}));y>0&&(v=d.activities[y-1]),y<d.activities.length-1&&(p=d.activities[y+1])}return Object(I.jsxs)("section",{className:"main-page-content preview iframe-height-resource",children:[Object(I.jsxs)("div",{className:"container-flex-upper",children:[Object(I.jsxs)("div",{className:"both-p",children:[Object(I.jsx)(b.b,{children:Object(I.jsxs)("div",{className:"project-title",children:[Object(I.jsx)("img",{src:x.a,alt:""}),"Project: ".concat(d.project.name)]})}),Object(I.jsx)(b.b,{children:Object(I.jsxs)("div",{className:"project-title",children:[Object(I.jsx)("img",{src:x.a,alt:""}),"Playlist: ".concat(d.title)]})})]}),"false"===localStorage.getItem("lti_activity")&&Object(I.jsx)(b.b,{to:"/studio/project/".concat(d.project.id,"/shared"),children:Object(I.jsx)(h.a,{icon:"times"})})]}),Object(I.jsxs)("div",{className:"flex-container previews",children:[Object(I.jsxs)("div",{className:"activity-bg left-vdo".concat(l?" collapsed":""),children:[Object(I.jsxs)("div",{className:"flex-container-preview",children:[Object(I.jsx)("div",{className:"act-top-header",children:Object(I.jsx)("div",{className:"heading-wrapper",children:Object(I.jsx)("div",{className:"main-heading",children:u&&Object(I.jsxs)("h3",{children:["Activity: \xa0",Object(I.jsx)("span",{children:u.title})]})})})}),Object(I.jsx)("div",{className:"right-control vd-controls",children:Object(I.jsxs)("div",{className:"slider-btn",children:[Object(I.jsx)(g.a,{showLti:n,playlistId:i,previousResource:v,allPlaylists:A,projectId:d.project_id}),Object(I.jsx)(w.a,{showLti:n,playlistId:i,nextResource:p,allPlaylists:A,projectId:d.project_id})]})}),Object(I.jsx)("a",{onClick:function(){return s()},className:"btn-expand-collapse".concat(l?" collapsed":""),children:Object(I.jsx)(h.a,{icon:"align-right"})})]}),Object(I.jsx)("div",{className:"main-item-wrapper",children:Object(I.jsx)("div",{className:"item-container",children:u&&Object(I.jsx)(o.Suspense,{fallback:Object(I.jsx)("div",{children:"Loading"}),children:Object(I.jsx)(K,{showLtiPreview:!0,activityId:u.id})})})})]}),Object(I.jsx)("div",{className:"right-sidegolf-info".concat(l?" collapsed":""),children:Object(I.jsx)(m.a,{defaultActiveKey:"home",id:"uncontrolled-tab-example",children:Object(I.jsx)(f.a,{eventKey:"home",title:"Activities",children:Object(I.jsx)("div",{className:"all-laylist-oracle",children:Object(I.jsx)(C,{showLti:!0,playlistId:i,activities:d.activities})})})})})]})]})}Q.defaultProps={showLti:!1,activityId:void 0};var D=Object(d.b)((function(t){return{playlist:t.playlist,collapsed:t.ui.sideBarCollapsed}}),(function(t){return{loadLtiPlaylist:function(e){return t(Object(O.h)(e))},loadProjectPlaylists:function(e){return t(Object(O.j)(e))},setCollapsed:function(){return t(Object(y.a)())}}}))(Q),L=i(515),T=i(643),E=l.a.lazy((function(){return i.e(10).then(i.bind(null,516))}));function U(t){var e=t.history,i=t.playlist,c=t.projectId,n=t.playlistId,a=t.activityId,r=t.loading,s=t.loadSharedPlaylist;Object(o.useEffect)((function(){window.scrollTo(0,0),s(c,n)}),[c,n,a,s]);var l=i.selectedPlaylist;if("error"===l)return Object(I.jsx)(L.a,{text:"Project is not public."});if(l&&l.id!==n&&(l=null),!l)return Object(I.jsx)("div",{className:"alert alert-info",role:"alert",children:"Loading..."});var d,u=l.project.playlists,A=a,j=null,v=null;if(l.activities&&l.activities.length>0&&(null!==A&&void 0!==A||(A=l.activities[0].id),d=l.activities.find((function(t){return t.id===A})))){var p=l.activities.findIndex((function(t){return t.id===d.id}));p>0&&(j=l.activities[p-1]),p<l.activities.length-1&&(v=l.activities[p+1])}return console.log(l),Object(I.jsx)(I.Fragment,{children:r?Object(I.jsx)("div",{className:"loading-phf-data",children:"loading..."===r?Object(I.jsx)(L.a,{text:r.toUpperCase()}):Object(I.jsx)(L.a,{showButton:!0,text:"You are unauthorized to access this!"})}):Object(I.jsxs)("section",{className:"main-page-content preview",children:[Object(I.jsx)("div",{className:"container-flex-upper",children:l.project&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(b.b,{to:"#",onClick:e.goBack,children:Object(I.jsxs)("div",{className:"project-title",children:[Object(I.jsx)("img",{src:x.a,alt:""}),"Project: ".concat(l.project.name)]})}),Object(I.jsx)(b.b,{to:"/studio/project/".concat(l.project.id),children:Object(I.jsx)(h.a,{icon:"times"})})]})}),Object(I.jsxs)("div",{className:"flex-container",children:[Object(I.jsxs)("div",{className:"activity-bg left-vdo",children:[Object(I.jsxs)("div",{className:"flex-container-preview",children:[Object(I.jsx)("div",{className:"act-top-header",children:Object(I.jsx)("div",{className:"heading-wrapper",children:Object(I.jsx)("div",{className:"main-heading",children:d&&d.title})})}),Object(I.jsx)("div",{className:"right-control vd-controls",children:Object(I.jsxs)("div",{className:"slider-btn",children:[Object(I.jsx)(g.a,{shared:!0,projectId:c,playlistId:n,previousResource:j,allPlaylists:u}),Object(I.jsx)(w.a,{shared:!0,projectId:c,playlistId:n,nextResource:v,allPlaylists:u})]})})]}),Object(I.jsx)("div",{className:"main-item-wrapper",children:Object(I.jsx)("div",{className:"item-container",children:d&&Object(I.jsx)(o.Suspense,{fallback:Object(I.jsx)("div",{children:"Loading"}),children:Object(I.jsx)(E,{showLtiPreview:!0,activityId:d.id})})})})]}),Object(I.jsxs)("div",{className:"right-sidegolf-info",children:[Object(I.jsxs)("div",{className:"back-header",children:[Object(I.jsx)("div",{children:Object(I.jsxs)(b.b,{to:"#",className:"go-back-button-preview",onClick:e.goBack,children:[Object(I.jsx)(h.a,{icon:"undo",className:"mr-2"}),"Back to Project"]})}),Object(I.jsxs)(N.a,{className:"ml-auto playlist-dropdown check",children:[Object(I.jsx)(N.a.Toggle,{className:"playlist-dropdown-btn",children:Object(I.jsx)(h.a,{icon:"ellipsis-v"})}),Object(I.jsx)(N.a.Menu,{children:Object(I.jsx)(C,{shared:!0,projectId:c,playlistId:n,activities:l.activities})})]})]}),Object(I.jsxs)("div",{className:"scrollDiv long",children:[Object(I.jsxs)("div",{className:"watcher",children:["You are watching from"," ",Object(I.jsx)("span",{children:l.title})]}),Object(I.jsx)("ul",{className:"slider-scroll-auto",children:Object(I.jsx)(T.a,{shared:!0,projectId:c,playlistId:n,activities:l.activities})})]})]})]})]})})}U.defaultProps={loading:""};var H=Object(u.h)(Object(d.b)((function(t){return{playlist:t.playlist}}),(function(t){return{loadSharedPlaylist:function(e,i){return t(Object(O.k)(e,i))}}}))(U)),z=function(t){Object(r.a)(i,t);var e=Object(s.a)(i);function i(){return Object(n.a)(this,i),e.apply(this,arguments)}return Object(a.a)(i,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var t=this.props,e=t.match,i=t.previewType,c=t.logActivityView,n=t.logPlaylistView,a=e.params,r=a.playlistId,s=a.activityId;"activityShared"===i?c(s):"playlistShared"===i&&(n(r),c(s))}},{key:"render",value:function(){var t,e=this.props,i=e.match,n=e.previewType,a=e.logActivityView,r=i.params,s=r.projectId,o=r.playlistId,l=r.activityId,d=null!==s&&void 0!==s?parseInt(s,10):null,u=parseInt(o,10),A=null!==l&&void 0!==l?parseInt(l,10):null;return"playlistShared"===n?t=Object(I.jsx)(H,{projectId:d,playlistId:u,activityId:A}):"activityShared"===n?(a(i.params.activityId),t=Object(I.jsx)(p.a,{})):"activitySharedEmbed"===n?(a(i.params.activityId),t=Object(I.jsx)(p.a,{embed:!0})):t=Object(I.jsx)(D,{showLti:!0,playlistId:u,activityId:A}),Object(I.jsxs)("div",{children:[!n&&Object(I.jsx)(v.a,Object(c.a)({},this.props)),t]})}}]),i}(l.a.Component);z.defaultProps={previewType:null};e.default=Object(u.h)(Object(d.b)(null,(function(t){return{showCreateProjectModal:function(){return t(Object(A.u)())},loadMyProjects:function(){return t(Object(A.m)())},createProject:function(e,i,c){return t(Object(A.c)(e,i,c))},logActivityView:function(e){return t(Object(j.a)(e))},logPlaylistView:function(e){return t(Object(j.b)(e))}}}))(z))},411:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return r}));var c=i(0);function n(t){return["/gclass/launch/:userId/:courseId/:activityId/:classworkId","/lti-tools/activity/:activityId","/activity/:activityId/shared","/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId"].includes(t)}function a(t,e,i){var n,a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=i.path,o=i.activityId,l=i.submissionId,d=i.attemptId,u=i.studentId,A=i.courseId,j=i.homepage,v=i.toolPlatform,p=i.activeCourse,h=i.customCourseName,b=i.customApiDomainUrl,m=i.customCourseCode,f=[{"/project/:projectId/playlist/:playlistId/activity/:activityId/preview":"CurrikiStudio"},{"/activity/:activityId/shared":"CurrikiStudio"},{"/gclass/launch/:userId/:courseId/:activityId/:classworkId":"Google Classroom"},{"/lti-tools/activity/:activityId":"LTI client"},{"/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId":"GenericLMS"}].find((function(t){return t[s]}));if(void 0!==f){var y,x,O=Object(c.a)({},e),g=[{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(o,"/submission/").concat(l,"/").concat(d)},{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(o,"/submission/").concat(l)}];"Google Classroom"===f[s]&&(g.push({objectType:"Activity",id:"".concat(window.location.origin,"/gclass/").concat(A)}),O.object&&O.object.definition&&O.object.definition.extensions&&(O.object.definition.extensions["http://currikistudio.org/x-api/gclass-alternate-course-id"]=p.alternateLink,O.object.definition.extensions["http://currikistudio.org/x-api/course-name"]=p.name)),f[s],g.push({objectType:"Activity",id:"".concat(window.location.origin,"/lti/").concat(A)}),(null===O||void 0===O||null===(y=O.object)||void 0===y||null===(x=y.definition)||void 0===x?void 0:x.extensions)&&(O.object.definition.extensions["http://currikistudio.org/x-api/lms-course-name"]=h,O.object.definition.extensions["http://currikistudio.org/x-api/lms-domain-url"]=b,O.object.definition.extensions["http://currikistudio.org/x-api/lms-course-code"]=m);var w={objectType:"Agent",account:{homePage:j||"https://classroom.google.com",name:u}};O.context&&("LTI client"===f[s]?O.context.platform=v:O.context.platform=f[s],O.context.contextActivities.other=g),O.actor=w,r&&(O.verb={id:"http://adlnet.gov/expapi/verbs/skipped",display:{"en-US":"skipped"}},O.result&&O.result.score&&O.result.score.min===O.result.score.max&&(O.result.score.max+=1)),O.object&&"compound"===O.object.definition.interactionType&&(O.object.definition.interactionType="choice");for(var N=t;N&&"H5P.InteractiveBook"!==(null===(I=N)||void 0===I||null===(P=I.libraryInfo)||void 0===P?void 0:P.machineName);){var I,P;N=N.parent}if("H5P.InteractiveBook"===(null===(n=N)||void 0===n||null===(a=n.libraryInfo)||void 0===a?void 0:a.machineName)){var k=N.getActiveChapter();O.object.definition.extensions["http://currikistudio.org/x-api/h5p-chapter-name"]=N.chapters[k].title}return O}}function r(t,e,i){var n,a=i.path,r=i.activityId,s=Object(c.a)({},e),o=Math.floor(1e5*Math.random()).toString(),l=Math.floor(1e5*Math.random()).toString(),d=Math.floor(1e5*Math.random()).toString(),u=[{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(r,"/submission/").concat(o,"/").concat(l)},{objectType:"Activity",id:"".concat(window.location.origin,"/activity/").concat(r,"/submission/").concat(o)},{objectType:"Activity",id:"".concat(window.location.origin,"/gclass/").concat(d)}],A=[{"/project/:projectId/playlist/:playlistId/activity/:activityId/preview":"CurrikiStudio"},{"/activity/:activityId/shared":"CurrikiStudio"},{"/gclass/launch/:userId/:courseId/:activityId/:classworkId":"Google Classroom"},{"/lti-tools/activity/:activityId":"LTI client"},{"/genericlms/:lmsName/lmsurl/:lmsUrl/client/:lmsClientId/lmscourse/:lmsCourseId/lmsunit/:lmsUnitId/activity/:activityId":"GenericLMS"}].find((function(t){return t[a]}));if(void 0!==A)return(null===s||void 0===s||null===(n=s.context)||void 0===n?void 0:n.contextActivities)&&(s.context.platform=A[a],s.context.contextActivities.other=u),s.object.definition.extensions["http://id.tincanapi.com/extension/referrer"]=document.referrer?document.referrer:window.location.origin,s}},458:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return d}));var c=i(4),n=i.n(c),a=i(6),r=i(1),s=function(t,e,i){return{type:r.Me,id:t,title:e,deleteType:i}},o=function(t,e,i){return function(){var c=Object(a.a)(n.a.mark((function c(a){return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:a(s(t,e,i));case 1:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()},l=function(){return function(){var t=Object(a.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:r.vc});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var t=Object(a.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:r.af});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},459:function(t,e,i){},515:function(t,e,i){"use strict";i(3);var c=i(21),n=i(24),a=i(12),r=i(153),s=i(133),o=i(2);function l(t){var e=t.text,i=t.showButton,n=t.loadHP;return Object(o.jsx)("div",{className:"whole-authorized",children:Object(o.jsxs)("div",{className:"box-unauthorized",children:[Object(o.jsx)("img",{src:r.a,alt:""}),Object(o.jsx)("h3",{children:e}),i?Object(o.jsxs)(c.b,{to:"/studio",onClick:function(){n("Loading...")},children:[" ","Go Back to Projects"]}):Object(o.jsxs)(c.b,{to:"/studio",onClick:function(){n("Loading...")},children:[" ","Go Back"]})]})})}l.defaultProps={showButton:!1};e.a=Object(n.h)(Object(a.b)(null,(function(t){return{loadHP:function(e){return t(Object(s.a)(e))}}}))(l))},520:function(t,e){},521:function(t,e){},572:function(t,e,i){"use strict";i(3);var c=i(8),n=i.n(c),a=i(144),r=i(30),s=i(39),o=i(72),l=i(2);e.a=function(t){var e=t.resource;return Object(l.jsxs)(s.a.Item,{onClick:function(){Object(o.H)(e.id);var t="".concat(window.location.href.split("/")[0],"//");Object(a.confirmAlert)({customUI:function(i){var c=i.onClose;return Object(l.jsxs)("div",{className:"share-project-preview-url project-share-check",children:[Object(l.jsx)("br",{}),Object(l.jsxs)("h3",{children:["You can now share Activity"," ",Object(l.jsx)("strong",{children:e.title}),Object(l.jsx)("br",{}),"Anyone with the link below can access your activity:"]}),Object(l.jsx)("a",{target:"_blank",href:"/studio/activity/".concat(e.id,"/shared"),rel:"noopener noreferrer",children:Object(l.jsx)("input",{id:"urllink_clip",value:"".concat(t+window.location.host,"/studio/activity/").concat(e.id,"/shared")})}),Object(l.jsx)("span",{title:"copy to clipboard","aria-hidden":"true",onClick:function(){var t=document.getElementById("urllink_clip");t.focus(),t.select(),document.execCommand("copy"),n.a.fire({title:"Link Copied",showCancelButton:!1,showConfirmButton:!1,timer:1500,allowOutsideClick:!1})},children:Object(l.jsx)(r.a,{icon:"clipboard"})}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"close-btn",children:Object(l.jsx)("button",{type:"button",onClick:c,children:"Ok"})})]})}})},children:[Object(l.jsx)(r.a,{icon:"share",className:"mr-2"}),"Share"]})}},573:function(t,e,i){},604:function(t,e,i){"use strict";e.a=i.p+"static/media/project_icon.6cb7f972.svg"},605:function(t,e,i){"use strict";(function(t){i(3);var c=i(21),n=i(24),a=i(30),r=i(8),s=i.n(r),o=i(12),l=i(2);function d(e){var i,n=e.history,r=e.showLti,d=e.shared,u=e.projectId,A=e.playlistId,j=e.previousResource,v=e.allPlaylists,p=Object(o.d)((function(t){return t.organization})),h=v.findIndex((function(t){return t.id===A})),b=h>0?v[h-1]:null,m="#";(j?m="/playlist/".concat(A,"/activity/").concat(j.id,"/preview"):b&&(m="/playlist/".concat(b.id,"/preview")),"#"!==m)&&(r?m+="/studio/lti":(m="/studio/org/".concat(null===(i=p.currentOrganization)||void 0===i?void 0:i.domain,"/project/").concat(u).concat(m),d&&(m+="/studio/shared")));return Object(l.jsxs)("div",{className:"slider-hover-section",children:[Object(l.jsx)(c.b,{to:m,children:Object(l.jsx)(a.a,{icon:"chevron-left"})}),Object(l.jsx)("div",{className:"hover-control-caption pointer-cursor".concat(j?"":" no-data prev"),children:j?Object(l.jsxs)(c.b,{to:m,children:[Object(l.jsx)("div",{className:"img-in-hover",style:{backgroundImage:j.thumb_url?j.thumb_url.includes("pexels.com")?"url(".concat(j.thumb_url,")"):"url(".concat(t.config.resourceUrl).concat(j.thumb_url,")"):"url(data:image/jpeg;base64,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)"}}),Object(l.jsx)("span",{children:j.title})]}):Object(l.jsxs)("div",{className:"slider-end",children:[Object(l.jsx)("p",{children:"Welcome! You are at the beginning of this playlist."}),Object(l.jsxs)(c.b,{to:m,onClick:function(){b||s.a.fire({text:"You are at the beginning of this project. Would you like to return to the project preview?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){var e;t.value&&(r?n.push("/studio/project/".concat(u,"/shared")):n.push("/studio/org/".concat(null===(e=p.currentOrganization)||void 0===e?void 0:e.domain,"/project/").concat(u,"/preview")))}))},children:[Object(l.jsx)(a.a,{icon:"chevron-left",className:"mr-2"}),"Switch to previous playlist"]})]})})]})}d.defaultProps={showLti:!1,shared:!1,projectId:null,previousResource:null,allPlaylists:[]},e.a=Object(n.h)(d)}).call(this,i(36))},606:function(t,e,i){"use strict";(function(t){i(3);var c=i(21),n=i(24),a=i(30),r=i(8),s=i.n(r),o=i(12),l=i(2);function d(e){var i,n=e.history,r=e.showLti,d=e.shared,u=e.projectId,A=e.playlistId,j=e.nextResource,v=e.allPlaylists,p=v.findIndex((function(t){return t.id===A})),h=p<v.length-1?v[p+1]:null,b=Object(o.d)((function(t){return t.organization})),m="#";(j?m="/playlist/".concat(A,"/activity/").concat(j.id,"/preview"):h&&(m="/playlist/".concat(h.id,"/preview")),"#"!==m)&&(r?m+="/studio/lti":(m="/studio/org/".concat(null===(i=b.currentOrganization)||void 0===i?void 0:i.domain,"/project/").concat(u).concat(m),d&&(m+="/studio/shared")));return Object(l.jsxs)("div",{className:"slider-hover-section",children:[Object(l.jsx)(c.b,{to:m,children:Object(l.jsx)(a.a,{icon:"chevron-right"})}),Object(l.jsx)("div",{className:"hover-control-caption pointer-cursor".concat(j?"":" no-data"),children:j?Object(l.jsxs)(c.b,{to:m,children:[Object(l.jsx)("div",{className:"img-in-hover",style:{backgroundImage:j.thumb_url?j.thumb_url.includes("pexels.com")?"url(".concat(j.thumb_url,")"):"url(".concat(t.config.resourceUrl).concat(j.thumb_url,")"):"url(data:image/jpeg;base64,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)"}}),Object(l.jsx)("span",{children:j.title})]}):Object(l.jsxs)("div",{className:"slider-end",children:[Object(l.jsx)("p",{children:"Hooray! You did it! There are no more activities in this playlist."}),Object(l.jsxs)(c.b,{to:m,onClick:function(){h||s.a.fire({text:"You are at the end of this project. Would you like to return to the project preview?",showCancelButton:!0,confirmButtonColor:"#4646c4",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Yes"}).then((function(t){var e;t.value&&(r?n.push("/studio/project/".concat(u,"/shared")):n.push("/studio/org/".concat(null===(e=b.currentOrganization)||void 0===e?void 0:e.domain,"/project/").concat(u,"/preview")))}))},children:["Switch to next playlist",Object(l.jsx)(a.a,{icon:"chevron-right",className:"ml-2"})]})]})})]})}d.defaultProps={showLti:!1,shared:!1,projectId:null,nextResource:null,allPlaylists:[]},e.a=Object(n.h)(d)}).call(this,i(36))},607:function(t,e,i){},608:function(t,e,i){"use strict";i.d(e,"a",(function(){return j})),i.d(e,"b",(function(){return v})),i.d(e,"c",(function(){return p}));var c=i(4),n=i.n(c),a=i(6),r=i(25),s=i(5),o=r.a.apiVersion,l=function(t){return s.a.get("/".concat(o,"/activities/").concat(t,"/log-view"))},d=function(t){return s.a.get("/".concat(o,"/playlists/").concat(t,"/log-view"))},u=function(t){return s.a.get("/".concat(o,"/projects/").concat(t,"/log-view"))},A=i(1),j=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(i){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t),i({type:A.d});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(i){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t),i({type:A.wd});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(t){return function(){var e=Object(a.a)(n.a.mark((function e(i){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t),i({type:A.Bd});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},643:function(t,e,i){"use strict";i(3);var c=i(644),n=i(2);function a(t){var e=t.showLti,i=t.shared,a=t.projectId,r=t.playlistId,s=t.activities,o=t.playlist,l=t.teamPermission;return 0===s.length?Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsx)("div",{className:"alert alert-info",role:"alert",children:"No activity defined for this playlist."})}):s.map((function(t){return Object(n.jsx)(c.a,{showLti:e,shared:i,projectId:a,playlistId:r,activity:t,playlist:o,teamPermission:l||{}},t.id)}))}a.defaultProps={showLti:!1,shared:!1,projectId:null,activities:[]},e.a=a},644:function(t,e,i){"use strict";(function(t){i(3);var c=i(21),n=i(645),a=(i(607),i(12)),r=i(2),s=function(e){var i,s=e.showLti,o=e.shared,l=e.activity,d=e.projectId,u=e.playlistId,A=e.playlist,j=e.teamPermission,v=Object(a.d)((function(t){return t.organization}));return Object(r.jsxs)("div",{className:"preview-activity-dropdown",children:[Object(r.jsx)(c.b,{to:o?"/project/".concat(d,"/playlist/").concat(u,"/activity/").concat(l.id,"/preview/shared"):s?"/playlist/".concat(u,"/activity/").concat(l.id,"/preview/lti"):"/studio/org/".concat(null===(i=v.currentOrganization)||void 0===i?void 0:i.domain,"/project/").concat(d,"/playlist/").concat(u,"/activity/").concat(l.id,"/preview"),children:Object(r.jsxs)("li",{className:"check",children:[l.thumb_url&&Object(r.jsx)("div",{className:"bg-thumbnail",style:{backgroundImage:l.thumb_url.includes("pexels.com")?"url(".concat(l.thumb_url,")"):"url(".concat(t.config.resourceUrl).concat(l.thumb_url,")")}}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"title",children:l.title})})]})}),!s&&Object(r.jsx)(n.a,{resource:l,playlist:A,teamPermission:j||{}})]})};s.defaultProps={showLti:!1,shared:!1,projectId:null},e.a=s}).call(this,i(36))},645:function(t,e,i){"use strict";i(3);var c=i(12),n=i(21),a=i(24),r=i(8),s=i.n(r),o=i(30),l=i(39),d=i(72),u=i(82),A=i(572),j=(i(459),i(2));e.a=Object(a.h)(Object(c.b)(null,(function(t){return{deleteResource:function(e,i){return t(Object(d.g)(e,i))}}}))((function(t){var e,i,a,r,d,v,p,h,b,m,f,y=t.resource,x=t.deleteResource,O=t.playlist,g=t.match,w=t.teamPermission,N=Object(c.d)((function(t){return t.organization})),I=N.permission;return Object(j.jsxs)(l.a,{className:"pull-right resource-dropdown check",children:[Object(j.jsx)(l.a.Toggle,{className:"resource-dropdown-btn",children:Object(j.jsx)(o.a,{icon:"ellipsis-v"})}),Object(j.jsxs)(l.a.Menu,{children:[(Object.keys(w).length?null===w||void 0===w||null===(e=w.Team)||void 0===e?void 0:e.includes("team:view-activity"):null===I||void 0===I||null===(i=I.Activity)||void 0===i?void 0:i.includes("activity:view"))&&Object(j.jsxs)(l.a.Item,{as:n.b,to:"/studio/org/".concat(null===(a=N.currentOrganization)||void 0===a?void 0:a.domain,"/project/").concat(g.params.projectId,"/playlist/").concat(O.id,"/activity/").concat(y.id,"/preview"),children:[Object(j.jsx)(o.a,{icon:"eye",className:"mr-2"}),"Preview"]}),(Object.keys(w).length?null===w||void 0===w||null===(r=w.Team)||void 0===r?void 0:r.includes("team:edit-activity"):null===I||void 0===I||null===(d=I.Activity)||void 0===d?void 0:d.includes("activity:edit"))&&Object(j.jsxs)(l.a.Item,{as:n.b,to:"/studio/org/".concat(null===(v=N.currentOrganization)||void 0===v?void 0:v.domain,"/project/").concat(g.params.projectId,"/playlist/").concat(O.id,"/activity/").concat(y.id,"/edit"),children:[Object(j.jsx)(o.a,{icon:"pen",className:"mr-2"}),"Edit"]}),(null===I||void 0===I||null===(p=I.Activity)||void 0===p?void 0:p.includes("activity:duplicate"))&&Object(j.jsxs)(l.a.Item,{to:"#",onClick:function(){s.a.showLoading(),Object(u.b)(O.id,y.id)},children:[Object(j.jsx)(o.a,{icon:"clone",className:"mr-2"}),"Duplicate"]}),(Object.keys(w).length?null===w||void 0===w||null===(h=w.Team)||void 0===h?void 0:h.includes("team:share-activity"):null===I||void 0===I||null===(b=I.Activity)||void 0===b?void 0:b.includes("activity:share"))&&Object(j.jsx)(A.a,{resource:y}),(Object.keys(w).length?null===w||void 0===w||null===(m=w.Team)||void 0===m?void 0:m.includes("team:delete-activity"):null===I||void 0===I||null===(f=I.Activity)||void 0===f?void 0:f.includes("activity:delete"))&&Object(j.jsxs)(l.a.Item,{onClick:function(t){t.preventDefault(),s.a.fire({title:"Are you sure you want to delete this activity?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then((function(t){t.isConfirmed&&x(y.id,O.id)}))},children:[Object(j.jsx)(o.a,{icon:"times-circle",className:"mr-2"}),"Delete"]})]})]})})))},646:function(t,e,i){"use strict";var c=i(0),n=i(4),a=i.n(n),r=i(6),s=i(27),o=i(3),l=i(24),d=i(149),u=i(12),A=i(647),j=i.n(A),v=i(134),p=i(72),h=i(411),b=(i(573),i(2)),m=1,f=null;e.a=Object(l.h)((function(t){var e=t.match,i=t.embed,n=new URLSearchParams(window.location.search).get("endpoint"),l=new URLSearchParams(window.location.search).get("auth"),A=new URLSearchParams(window.location.search).get("registration"),y=Object(o.useState)(!1),x=Object(s.a)(y,2),O=x[0],g=x[1],w=Object(u.c)(),N=function(){var t=Object(r.a)(a.a.mark((function t(e){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.H5PIntegration=e.h5p.settings,document.getElementById("curriki-h5p-wrapper").innerHTML=e.h5p.embed_code.trim(),i=e.h5p.settings.core.styles.concat(e.h5p.settings.loadedCss),t.next=6,Promise.all(i.map((function(t){var e=document.createElement("link");return e.href=t,e.type="text/css",e.rel="stylesheet",document.head.appendChild(e),!0})));case 6:e.h5p.settings.core.scripts.concat(e.h5p.settings.loadedJs).forEach((function(t){var e=document.createElement("script");e.src=t,e.async=!1,document.body.appendChild(e)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){(n||l||null!==f)&&(f=new j.a.LRS({endpoint:n,auth:l,allowFail:!0}))}),[n,l]),Object(o.useEffect)((function(){if(window.scrollTo(0,0),e.params.activityId){i?Object(p.q)(e.params.activityId).then(function(){var t=Object(r.a)(a.a.mark((function t(e){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i={}).h5p=e,N(i);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){g(!0)})):Object(p.s)(e.params.activityId).then(function(){var t=Object(r.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){g(!0)}));var n=setInterval((function(){try{var i=document.getElementsByClassName("h5p-iframe")[0].contentWindow;i.H5P&&i.H5P.externalDispatcher&&h.c(t.match.path)&&(s(),i.H5P.externalDispatcher.on("xAPI",(function(t){if(m>0){var i=h.a(undefined,t.data.statement,{path:e.path,activityId:e.params.activityId});if(w(Object(p.t)(JSON.stringify(i))),f){var n=new j.a.Statement({actor:Object(c.a)(Object(c.a)({},i.actor),{},{mbox:"mailto:info@currikistudio.org"}),verb:i.verb,context:Object(c.a)(Object(c.a)({},i.context),{},{registration:A}),object:i.object});f.saveStatement(n,{callback:function(t,e){if(null!==t)return null!==e?void console.log("Failed to save statement: ".concat(e.responseText," (").concat(e.status,")")):void console.log("Failed to save statement: ".concat(t));console.log("Statement saved")}})}}m+=1})))}catch(n){console.log(n)}})),s=function(){return clearInterval(n)}}}),[w,i,e.params.activityId]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("section",{className:i?"embed main-page-content preview iframe-height-resource-shared defaultcontainer":"main-page-content preview iframe-height-resource-shared defaultcontainer",children:[!!i&&Object(b.jsx)(d.a,{children:Object(b.jsx)("script",{src:"https://dev.currikistudio.org/api/storage/h5p/h5p-core/js/h5p-resizer.js",charset:"UTF-8"})}),Object(b.jsx)("div",{className:"flex-container previews",children:Object(b.jsx)("div",{className:"activity-bg left-vdo",children:Object(b.jsx)("div",{className:"main-item-wrapper desktop-view",children:Object(b.jsx)("div",{className:"item-container",children:O?Object(b.jsx)("div",{id:"curriki-h5p-wrapper",children:Object(b.jsx)("div",{className:"loader_gif",style:{color:"black"},children:"Activity is not sharable"})}):Object(b.jsx)("div",{id:"curriki-h5p-wrapper",children:Object(b.jsx)("div",{className:"loader_gif",children:Object(b.jsx)("img",{style:{width:"50px"},src:v.a,alt:""})})})})})})})]})})}))}}]);
//# sourceMappingURL=23.b9b6e76b.chunk.js.map